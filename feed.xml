<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.2">Jekyll</generator><link href="https://usegalaxy.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://usegalaxy.github.io/" rel="alternate" type="text/html" /><updated>2023-11-23T14:47:50+00:00</updated><id>https://usegalaxy.github.io/feed.xml</id><title type="html">Galaxy 中国</title><subtitle>The European Galaxy Instance</subtitle><entry><title type="html">出版级散点图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）</title><link href="https://usegalaxy.github.io/posts/2023/11/23/tool-update/" rel="alternate" type="text/html" title="出版级散点图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）" /><published>2023-11-23T00:00:00+00:00</published><updated>2023-11-23T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/23/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/23/tool-update/"><![CDATA[<h2 id="工具地址">工具地址</h2>

<p>Galaxy中国（UseGalaxy.cn）&gt; Graph/Display Data &gt; Ggpubr 散点图</p>

<h2 id="功能描述">功能描述</h2>

<p>这个工具可以绘制出版级散点图，是在线版的 ggpubr::ggscatter 工具。</p>

<ul>
  <li>散点图是一种图表，用于展示两个变量之间的关系。图中的每个点代表数据集中的一个观测值，横轴和纵轴分别表示两个变量。</li>
  <li>通过观察点的分布，可以识别变量之间的模式、趋势或相关性。</li>
</ul>

<h2 id="测试数据">测试数据</h2>

<p>测试数据：数据共享 &gt; 数据库 &gt; Table data &gt; mtcars.tsv。</p>

<p><img src="/assets/img/20231123-tool-update-scatter-data.png" alt="" /></p>

<h2 id="实战演示">实战演示</h2>

<blockquote>
  <ul>
    <li>数据表：mtcars.tsv</li>
    <li>位置美学：
      <ul>
        <li>X 轴变量：wt</li>
        <li>Y 轴变量：mpg</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/20231123-tool-update-scatter-wt-mpg.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步（右边 History 中，单击上一步输出的结果文件名称，点击”向右转圈的箭头”，下同。）</li>
    <li>高级设置：
      <ul>
        <li>显示相关系数:
          <ul>
            <li>X 坐标: 4</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/20231123-tool-update-scatter-cor-label_x_4.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>颜色美学：
      <ul>
        <li>轮廓颜色（可以是变量、颜色名称或颜色值）：cyl</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/20231123-tool-update-scatter-cor-color-cyl.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>图例设置：
位置：right</li>
  </ul>
</blockquote>

<p><img src="/assets/img/20231123-tool-update-scatter-legend-right.png" alt="" /></p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[工具地址]]></summary></entry><entry><title type="html">出版级小提琴图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）</title><link href="https://usegalaxy.github.io/posts/2023/11/22/tool-update/" rel="alternate" type="text/html" title="出版级小提琴图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）" /><published>2023-11-22T00:00:00+00:00</published><updated>2023-11-22T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/22/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/22/tool-update/"><![CDATA[<h2 id="工具地址">工具地址</h2>

<p>Galaxy中国（UseGalaxy.cn）&gt; Graph/Display Data &gt; Ggpubr 小提琴图</p>

<h2 id="功能描述">功能描述</h2>

<p>这个工具可以绘制出版级小提琴图，是在线版的 ggpubr::ggviolin 工具。</p>

<ul>
  <li>小提琴图是一种统计学中常用的图表，用于展示数据分布及离散程度。</li>
  <li>图形中的细长箱体表示数据分布，中间的线表示中位数，有助于观察数据的集中趋势和散布情况。</li>
</ul>

<h2 id="测试数据">测试数据</h2>

<p>测试数据：数据共享 &gt; 数据库 &gt; Table data &gt; ToothGrowth.tsv。</p>

<p><img src="/assets/img/231120-tool-update-barplot-data.png" alt="" /></p>

<h2 id="实战演示">实战演示</h2>

<blockquote>
  <ul>
    <li>数据表：ToothGrowth.tsv</li>
    <li>位置美学：
      <ul>
        <li>X 轴变量：dose</li>
        <li>Y 轴变量：len</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231122-tool-update-violin-dose-len.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步（右边 History 中，单击上一步输出的结果文件名称，点击”向右转圈的箭头”，下同。）</li>
    <li>统计检验：
      <ul>
        <li>添加全局 P 值：YES</li>
        <li>添加分组 P 值：YES</li>
        <li>分组比较 P 值显示方式：p 值
全局 P 值 Y 坐标（与数据的单位一致）：42</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231122-tool-update-violin-statistic.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步
      <ul>
        <li>颜色美学：</li>
        <li>主题：theme_light</li>
        <li>调色板：LANCET</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231122-tool-update-violin-color.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>坐标设置：
      <ul>
        <li>坐标范围：Use-defined axis scales
          <ul>
            <li>X 坐标最小值：1</li>
            <li>X 坐标最大值：3</li>
            <li>Y 坐标最小值：0</li>
            <li>Y 坐标最大值：50</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231122-tool-update-violin-axis.png" alt="" /></p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[工具地址]]></summary></entry><entry><title type="html">出版级箱线图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）</title><link href="https://usegalaxy.github.io/posts/2023/11/21/tool-update/" rel="alternate" type="text/html" title="出版级箱线图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）" /><published>2023-11-21T00:00:00+00:00</published><updated>2023-11-21T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/21/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/21/tool-update/"><![CDATA[<h2 id="工具地址">工具地址</h2>

<p>Galaxy中国（UseGalaxy.cn）&gt; Graph/Display Data &gt; 箱线图。</p>

<h2 id="功能描述">功能描述</h2>

<p>这个工具可以绘制出版级箱线图，是在线版的 ggpubr::boxplot 工具。</p>

<ul>
  <li>箱线图是一种数据可视化工具，用于展示数据集的分布情况和统计特征。它通过显示数据的中位数、上下四分位数、最小值和最大值，以及异常值，提供了对数据集整体分布的直观认识。</li>
  <li>箱线图的中央矩形代表数据集的四分位数范围，箱子的上下边缘延伸到最大和最小观测值，通过观察箱线图，我们可以识别出数据的集中趋势、离散程度，以及是否存在异常值。</li>
</ul>

<h2 id="测试数据">测试数据</h2>

<p>数据共享 &gt; 数据库 &gt; Table data &gt; ToothGrowth.tsv</p>

<p><img src="/assets/img/231120-tool-update-barplot-data.png" alt="" /></p>

<h2 id="实战演示">实战演示</h2>

<blockquote>
  <ul>
    <li>数据表：ToothGrowth.tsv</li>
    <li>位置美学：
      <ul>
        <li>X 轴变量：dose</li>
        <li>Y 轴变量：len</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-dose-len.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步（右边 History 中，单击上一步输出的结果文件名称，点击“向右转圈的箭头”，下同。）</li>
    <li>统计检验：
      <ul>
        <li>添加全局 P 值：YES</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-global-p.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>统计检验：
      <ul>
        <li>添加分组 P 值：YES</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-local-p.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>统计检验：
      <ul>
        <li>全局 P 值 Y 坐标（与数据的单位一致）：42</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-p-y.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>统计检验：
      <ul>
        <li>分组比较 P 值显示方式：p 值</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-p-show.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>统计检验：
      <ul>
        <li>全局 P 值 Y 坐标（与数据的单位一致）：10</li>
      </ul>
    </li>
    <li>高级设置：
      <ul>
        <li>X 轴分组顺序：2, 1, 0.5</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-order.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>高级设置：
      <ul>
        <li>添加元素：jitter</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-jitter.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>颜色美学：
      <ul>
        <li>调色板：JCO</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-jco.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>位置美学：
      <ul>
        <li>分面：supp</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-facet.png" alt="" /></p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[工具地址]]></summary></entry><entry><title type="html">出版级柱状图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）</title><link href="https://usegalaxy.github.io/posts/2023/11/20/tool-update/" rel="alternate" type="text/html" title="出版级柱状图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）" /><published>2023-11-20T00:00:00+00:00</published><updated>2023-11-20T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/20/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/20/tool-update/"><![CDATA[<h2 id="工具地址">工具地址</h2>

<p>Galaxy中国（UseGalaxy.cn）&gt; Graph/Display Data &gt; 柱状图</p>

<h2 id="功能描述">功能描述</h2>

<p>这个工具可以绘制出版级柱状图，是 ggpubr 包的 barplot 工具的在线版。</p>

<ul>
  <li>条形图通过垂直或水平的条形展示分类变量的分布（频数）。</li>
  <li>横坐标表示分类，纵坐标表示频数，频数既可以事先计算好，也可以自动计算（不指定 Y 变量时）。</li>
</ul>

<h2 id="测试数据">测试数据</h2>

<blockquote>
  <p>Data libraries &gt; Table data &gt; ToothGrowth.tsv。</p>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-data.png" alt="" /></p>

<h2 id="操作演示">操作演示</h2>

<blockquote>
  <ul>
    <li>数据表：ToothGrowth.tsv</li>
    <li>位置美学：
      <ul>
        <li>X 轴变量：dose</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>位置美学：
      <ul>
        <li>Y 轴变量：len</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose-len.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>颜色美学：
      <ul>
        <li>轮廓颜色：supp</li>
        <li>填充颜色：supp</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose-color-fill-supp.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>高级设置：
      <ul>
        <li>dodge：dodge2</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose-color-fill-supp-dodge2.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>高级设置：
      <ul>
        <li>添加元素：mean_se</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose-color-fill-supp-dodge2-mean_se.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>颜色美学：
      <ul>
        <li>调色板：JCO</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose-color-fill-supp-dodge2-jco.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>颜色美学：
      <ul>
        <li>主题：theme_dark</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose-color-fill-supp-dodge2-jco-theme_dark.png" alt="" /></p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[工具地址]]></summary></entry><entry><title type="html">出版级PCA美图，轻松拿捏（主成分分析利器，建议收藏备用）</title><link href="https://usegalaxy.github.io/posts/2023/11/16/tool-update/" rel="alternate" type="text/html" title="出版级PCA美图，轻松拿捏（主成分分析利器，建议收藏备用）" /><published>2023-11-16T00:00:00+00:00</published><updated>2023-11-16T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/16/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/16/tool-update/"><![CDATA[<h2 id="功能描述">功能描述</h2>

<p>这个工具用于进行主成分分析（PCA, Principal Component Analysis），可生成出版级的图形。</p>

<h2 id="工具位置">工具位置</h2>

<p><a href="https://usegalaxy.cn/?tool_id=plot_pca&amp;version=0.6">UseGalaxy.cn &gt; RNA-seq &gt; PCA plot with FactoMineR</a></p>

<h2 id="数据准备">数据准备</h2>

<h3 id="文件1矩阵文件">文件1：矩阵文件</h3>

<ul>
  <li>第1列：特征，如基因。</li>
  <li>第2 - 最后一列：样本的值，如表达量。
<img src="/assets/img/231116-tool-update-pca-data-count.png" alt="" /></li>
</ul>

<h3 id="文件2样本信息">文件2：样本信息</h3>

<ul>
  <li>第1列：样本ID。</li>
  <li>第2列：分组。
<img src="/assets/img/231116-tool-update-pca-data-group.png" alt="" /></li>
</ul>

<h2 id="使用示例">使用示例</h2>

<blockquote>
  <ul>
    <li>默认参数</li>
  </ul>
</blockquote>

<p><img src="/assets/img/231116-tool-update-pca-default.png" alt="" /></p>

<blockquote>
  <ul>
    <li>高级设置
      <ul>
        <li>边界线形状：多边形</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231116-tool-update-pca-adv-poly.png" alt="" /></p>

<blockquote>
  <ul>
    <li>高级设置
      <ul>
        <li>边界线形状：无边界线</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231116-tool-update-pca-adv-no.png" alt="" /></p>

<blockquote>
  <ul>
    <li>颜色美学
      <ul>
        <li>主题：theme_minimal</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231116-tool-update-pca-minimal.png" alt="" /></p>

<blockquote>
  <ul>
    <li>颜色美学
      <ul>
        <li>调色板为：JCO</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231116-tool-update-pca-jco.png" alt="" /></p>

<blockquote>
  <ul>
    <li>图例设置
      <ul>
        <li>位置：right</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231116-tool-update-pca-legend-right.png" alt="" /></p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[功能描述]]></summary></entry><entry><title type="html">使用Tiverse优雅地处理数据集</title><link href="https://usegalaxy.github.io/posts/2023/11/10/tool-update/" rel="alternate" type="text/html" title="使用Tiverse优雅地处理数据集" /><published>2023-11-10T00:00:00+00:00</published><updated>2023-11-10T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/10/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/10/tool-update/"><![CDATA[<p>2023-11-10，Galaxy生信云平台 <a href="https://usegalaxy.cn">UseGalaxy.cn</a> 新增 12 个工具。</p>

<h2 id="tidyverse">TIDYVERSE</h2>

<ul>
  <li>Dplyr Arrange rows</li>
  <li>Dplyr Count the observations</li>
  <li>Dplyr Distinct keep unique rows</li>
  <li>Dplyr Join two tables</li>
  <li>Dplyr Join with one varibale</li>
  <li>Dplyr Mutate create, modify, and delete columns</li>
  <li>Dplyr Rename columns</li>
  <li>Dplyr Select keep or drop columns</li>
  <li>Dplyr Slice select rows by position</li>
  <li>Dplyr Filter keep rows that match a condition</li>
  <li>Tidyr Pivot Longer from wide</li>
  <li>Tidyr Pivot Wider from long</li>
</ul>

<h2 id="dplyr-arrange-rows">Dplyr Arrange rows</h2>

<p><code class="language-plaintext highlighter-rouge">arrange</code> 函数用于对数据框按照指定变量进行排序，可以根据一个或多个变量对数据进行升序或降序排列，帮助用户重新整理数据框中的观测顺序。</p>

<h2 id="dplyr-count-the-observations">Dplyr Count the observations</h2>

<p><code class="language-plaintext highlighter-rouge">count</code> 函数用于统计数据框中各个组的频数，可以对指定变量进行计数，得到每个类别的观测数目，支持根据需要对结果进行排序。</p>

<h2 id="dplyr-distinct-keep-unique-rows">Dplyr Distinct keep unique rows</h2>

<p><code class="language-plaintext highlighter-rouge">distinct</code> 函数用于去除数据框中的重复观测，仅保留唯一的观测。它可以基于指定的列对数据框进行去重操作，确保每个观测都是唯一的。</p>

<h2 id="dplyr-join-two-tables">Dplyr Join two tables</h2>

<p><code class="language-plaintext highlighter-rouge">join</code> 函数用于根据指定的键将两个数据框连接起来，可以根据共同的变量将数据框进行合并，支持多种连接操作，如内连接、左连接、右连接和外连接等。</p>

<h2 id="dplyr-join-with-one-varibale">Dplyr Join with one varibale</h2>

<p>同上。区别在于只用一个变量连接两个表。</p>

<h2 id="dplyr-mutate-create-modify-and-delete-columns">Dplyr Mutate create, modify, and delete columns</h2>

<p><code class="language-plaintext highlighter-rouge">mutate</code> 函数用于添加新变量或修改现有变量，能够基于已有数据创建新的变量列，支持对数据框进行实时的变量操作和修改。</p>

<h2 id="dplyr-rename-columns">Dplyr Rename columns</h2>

<p><code class="language-plaintext highlighter-rouge">rename</code> 函数用于重命名数据框中的变量名，能够快速修改变量的名称，使得数据的列名更符合用户的需求和习惯。</p>

<h2 id="dplyr-select-keep-or-drop-columns">Dplyr Select keep or drop columns</h2>

<p><code class="language-plaintext highlighter-rouge">select</code> 函数用于选择数据框中的特定列，可以保留感兴趣的变量，并且能够根据列名、位置或条件表达式进行灵活的变量选择操作。</p>

<h2 id="dplyr-slice-select-rows-by-position">Dplyr Slice select rows by position</h2>

<p><code class="language-plaintext highlighter-rouge">slice</code> 函数用于按行数进行切片，能够从数据框中提取特定的行，支持根据行数或行号选择需要的行，也支持使用负数表示从末尾开始计算的行数。</p>

<h2 id="dplyr-filter-keep-rows-that-match-a-condition">Dplyr Filter keep rows that match a condition</h2>

<p><code class="language-plaintext highlighter-rouge">filter</code> 函数用于根据条件筛选数据行，能够仅保留满足条件的观测，支持根据指定的条件表达式对数据框进行灵活的行筛选操作。</p>

<h2 id="tidyr-pivot-longer-from-wide">Tidyr Pivot Longer from wide</h2>

<p><code class="language-plaintext highlighter-rouge">pivot_longer</code> 函数用于将宽格式数据转换为长格式数据，能够根据用户指定的列将数据框中的多个列整理成一对 “名-值” 对，便于进一步的分析和处理。</p>

<h2 id="tidyr-pivot-wider-from-long">Tidyr Pivot Wider from long</h2>

<p><code class="language-plaintext highlighter-rouge">pivot_wider</code> 函数用于将长格式数据转换为宽格式数据，能够将数据框中的一列分成多个列，根据指定的列名进行展开，使得数据以更直观的宽格式形式呈现。</p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[2023-11-10，Galaxy生信云平台 UseGalaxy.cn 新增 12 个工具。]]></summary></entry><entry><title type="html">UseGalaxy.cn生信云平台文本文件操作手册</title><link href="https://usegalaxy.github.io/posts/2023/11/08/training/" rel="alternate" type="text/html" title="UseGalaxy.cn生信云平台文本文件操作手册" /><published>2023-11-08T00:00:00+00:00</published><updated>2023-11-08T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/08/training</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/08/training/"><![CDATA[<p>文本文件是生物信息学中应用非常广泛的文本格式，甚至可以说是最重要的文件格式，比如常见的测序下机数据Fastq、参考基因组保存格式Fasta、比对文件SAM，以及突变列表VCF，它们都是文本文件。熟练地进行文本文件的处理，对于生信数据分析来说非常重要。比如为特定程序准备相应的输入文件，或者从结果文件中提取需要的信息。</p>

<p>文本文件的操作贯穿生信数据处理的始终，甚至有人开玩笑说，搞生信分析，就是进行各种文件格式的转换。有时候确实可以这么说，因为现在有许多软件/包都写得非常完善了，只需要准备好相应的输入文件，一行代码即可完成分析。</p>

<p>可以说，善于文本文件的处理，生信数据分析就站在了一个非常高的起点。<a href="https://usegalaxy.cn">UseGalaxy.cn</a>平台有非常强大的文本数据处理功能，本文就来系统地介绍这些文本处理工具的用法。</p>

<h2 id="测序数据">测序数据</h2>

<ul>
  <li>Libraries &gt; Table data: heatmap_test.tsv，一个模拟的 RNA-seq 表达量矩阵数据。</li>
</ul>

<h2 id="1-文本操纵text-manipulation">1. 文本操纵（Text Manipulation）</h2>

<h3 id="选择开始的多少行">选择开始的多少行</h3>

<p><strong>工具：</strong>Text Manipulation &gt; Select first lines from a dataset</p>

<p><strong>目标：</strong>选择前10行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Select first: 11 (因为文件有表头，所以这里设置为前11行)</li>
  <li>from: heatmap_test.tsv</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-select-first.png" alt="" /></p>

<h3 id="选择结尾的多少行">选择结尾的多少行</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Select last lines from a dataset</p>

<p><strong>目标：</strong> 选择结尾的10行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Select last: 10</li>
  <li>from: heatmap_test.tsv</li>
  <li>Dataset has a header: Yes</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-select-last.png" alt="" /></p>

<h3 id="随机选择多少行">随机选择多少行</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Select random lines from a file</p>

<p><strong>目标：</strong> 随机选择5行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Randomly select: 5</li>
  <li>from: heatmap_test.tsv</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-select-random.png" alt="" /></p>

<h3 id="删除开始的多少行">删除开始的多少行</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Remove beginning of a file</p>

<p><strong>目标：</strong> 删除表头</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Remove first: 1</li>
  <li>from: heatmap_test.tsv</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-remove-begining.png" alt="" /></p>

<h3 id="选择列">选择列</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Cut columns from a table</p>

<p><strong>目标：</strong> 选择第1，2，5列</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Cut columns: c1,c2,c5</li>
  <li>from: heatmap_test.tsv</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-cut.png" alt="" /></p>

<h3 id="增加列到一个数据表">增加列到一个数据表</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Add column to an existing dataset</p>

<p><strong>目标：</strong> 在最后一列增加一个<strong>+</strong>号</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Add this value：+</li>
  <li>to Dataset: Remove beginning on data 1</li>
  <li>Iterate?: NO</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-add-plus.png" alt="" /></p>

<p><strong>目标：</strong> 在最后一列增加从1开始不断迭代的编号</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Add this value：1</li>
  <li>to Dataset: Remove beginning on data 1</li>
  <li>Iterate?: YES</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-add-1.png" alt="" /></p>

<h3 id="纵向合并多个文件">纵向合并多个文件</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Concatenate datasets tail-to-head</p>

<p><strong>目标：</strong> 合并两个文件</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Concatenate Dataset: Select first on data 1</li>
  <li>Dataset: Select last on data 1</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-cat.png" alt="" /></p>

<h3 id="横向合并两个文件">横向合并两个文件</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Paste two files side by side</p>

<p><strong>目标：</strong> 并排粘贴两个文件</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Paste: Cut on data 1</li>
  <li>and: Cut on data 1</li>
  <li>Delimit by: TAB</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-paste.png" alt="" /></p>

<h2 id="2-过滤和排序filter-and-sort">2. 过滤和排序（Filter and Sort）</h2>

<h3 id="根据正则表达式匹配行">根据正则表达式匹配行</h3>

<p><strong>工具：</strong> Filter and Sort &gt; Select lines that match an expression</p>

<p><strong>目标：</strong> 筛选出前面纵向合并的文件中的表头</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Select lines from: Concatenate datasets on data 4 and data 2</li>
  <li>that: Matching</li>
  <li>the pattern: Test1</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-grep.png" alt="" /></p>

<p><strong>目标：</strong> 筛选出前面纵向合并的文件中不是表头的行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Select lines from: Concatenate datasets on data 4 and data 2</li>
  <li>that: NOT Matching</li>
  <li>the pattern: Test1</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-grep-v.png" alt="" /></p>

<h3 id="依据某一列过滤数据">依据某一列过滤数据</h3>

<p><strong>工具：</strong> Filter and Sort &gt; Filter data on any column using simple expressions</p>

<p><strong>目标：</strong> 筛选第2列（即样本Test1所在列）值大于1的行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Filter：heatmap_test.tsv</li>
  <li>With following condition: c2 &gt; 1</li>
  <li>Number of header lines to skip: 1</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-filter-by-column.png" alt="" /></p>

<h3 id="排序数据">排序数据</h3>

<p><strong>工具：</strong> Filter and Sort &gt; Sort data in ascending or descending order</p>

<p><strong>目标：</strong> 根据表达矩阵的第2列，降序排列行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Sort Dataset: heatmap_test.tsv</li>
  <li>on column: Column 2</li>
  <li>with flavor: Numerical sort</li>
  <li>everything in: Descending order</li>
  <li>Number of header lines to skip: 1</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-sort-desc.png" alt="" /></p>

<h2 id="3-连接提取和分组join-subtract-and-group">3. 连接、提取和分组（Join, Subtract and Group）</h2>

<h3 id="依据特定列连接两个数据表">依据特定列连接两个数据表</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Cut columns</p>

<p><strong>目标：</strong> 选择文件前3列</p>

<p><strong>操作：</strong></p>
<ul>
  <li>Cut columns: c1,c2, c3</li>
  <li>From: Select first on data 1</li>
</ul>

<p><strong>工具：</strong> Join, Subtract and Group &gt; Join two Datasets side by side on a specified field</p>

<p><strong>目标：</strong> 连接两个数据表</p>

<p><strong>操作：</strong></p>
<ul>
  <li>Join: Cut on data 2</li>
  <li>using column: Column: 1</li>
  <li>with: heatmap_test.tsv</li>
  <li>and column: Column: 1</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-join.png" alt="" /></p>

<h3 id="比较两个数据表找出相同或不同的行">比较两个数据表找出相同或不同的行</h3>

<p><strong>工具：</strong> Join, Subtract and Group &gt; Compare two Datasets to find common or distinct rows</p>

<p><strong>目标：</strong> 查找表1中，某一列的值出现在表2中某一列的行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Compare：Select random lines on data 1</li>
  <li>Using column: Column: 1</li>
  <li>against：heatmap_test.tsv</li>
  <li>and column：Column: 1</li>
  <li>To find: Matching rows of 1st dataset</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-compare-match.png" alt="" /></p>

<p><strong>目标：</strong> 查找表1中，某一列的值没有出现在表2中某一列的行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Compare：Select random lines on data 1</li>
  <li>Using column: Column: 1</li>
  <li>against：heatmap_test.tsv</li>
  <li>and column：Column: 1</li>
  <li>To find: Non Matching rows of 1st dataset</li>
</ul>

<p><strong>结果：</strong></p>

<p>因为表1所有的行，都在表2中，因此结果为空。</p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[文本文件是生物信息学中应用非常广泛的文本格式，甚至可以说是最重要的文件格式，比如常见的测序下机数据Fastq、参考基因组保存格式Fasta、比对文件SAM，以及突变列表VCF，它们都是文本文件。熟练地进行文本文件的处理，对于生信数据分析来说非常重要。比如为特定程序准备相应的输入文件，或者从结果文件中提取需要的信息。]]></summary></entry><entry><title type="html">生物信息必备技能-出版级别的circos圈图绘制</title><link href="https://usegalaxy.github.io/posts/2023/11/06/tool-update/" rel="alternate" type="text/html" title="生物信息必备技能-出版级别的circos圈图绘制" /><published>2023-11-06T00:00:00+00:00</published><updated>2023-11-06T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/06/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/06/tool-update/"><![CDATA[<p>2023-11-06，Galaxy生信云平台 <a href="https://usegalaxy.cn">UseGalaxy.cn</a> 新增circos圈图绘制工具。</p>

<h2 id="graphdisplay-data">Graph/Display Data</h2>

<ul>
  <li>Circos visualizes data in a circular layout (Galaxy Version 0.69.8+galaxy12)</li>
</ul>

<p>Circos（Krzywinski等人，2009年）是一个用于以圆形布局可视化数据的软件包。这使得Circos非常适合探索对象或位置之间的关系。Circos图表已经出现在成千上万的科学出版物中。尽管最初设计用于可视化基因组数据，但它可以根据任何领域的数据创建图表。</p>

<h2 id="文章图形复现">文章图形复现</h2>

<p>图形/数据来源：</p>

<blockquote>
  <p>Teles Alves I, Hiltemann S, Hartjes T, et al. Gene fusions by chromothripsis of chromosome 5q in the VCaP prostate cancer cell line. Hum Genet. 2013;132(6):709-713. doi:10.1007/s00439-013-1308-1</p>
</blockquote>

<p><img src="/assets/img/231106-tool-update-circos-target.png" alt="" /></p>

<p>在这篇文章中，各种来源的数据被整合到一个综合的Circos图中。下面我们就来复现这个图，首先我们先了解一下Circos的基础。</p>

<h3 id="1-circos基础">1. Circos基础</h3>

<h4 id="11-外层骨架ideogram">1.1 外层骨架（Ideogram）</h4>

<p>对于基因组数据，通常是染色体，但也可能是物种、基因，或者是另一个分辨率级别，这取决于你想要展示的关系。对于非基因组数据，这可能是人群中的个体、国家，或者是你想用来进行分组的数据的任何其他主要方面。</p>

<h4 id="12-数据轨道data-tracks">1.2 数据轨道（Data Tracks）</h4>

<p>在骨架之内，我们可以绘制数据轨道。有不同类型的图表可用，例如：</p>

<ul>
  <li>散点图（Scatter plot）</li>
  <li>线图（Line plot）</li>
  <li>直方图（Histogram）</li>
  <li>热图（Heatmap）</li>
  <li>方块图（Tile）</li>
  <li>文本（Text）</li>
  <li>连接（Link）</li>
  <li>条带（Ribbons）</li>
</ul>

<p>轨道可以进行很多定制，一些相关的概念包括：</p>

<ul>
  <li>
    <p><strong>Radius</strong>：轨道的半径决定了它在中心（0）和表意图（1）之间的位置。</p>
  </li>
  <li>
    <p><strong>Rules</strong>：可以定义规则，根据数据点的值改变数据点的颜色，例如。</p>
  </li>
  <li>
    <p><strong>Axes and backgrounds</strong>：可以在数据轨道上绘制轴和背景。</p>
  </li>
</ul>

<h3 id="2-复现步骤">2. 复现步骤</h3>

<p>工具位置：UseGalaxy.cn首页 &gt; Graph/Display Data &gt; Circos visualizes data in a circular layout</p>

<p>或者：<a href="https://usegalaxy.cn/root?tool_id=toolshed.g2.bx.psu.edu/repos/iuc/circos/circos/0.69.8+galaxy12">https://usegalaxy.cn/root?tool_id=toolshed.g2.bx.psu.edu/repos/iuc/circos/circos/0.69.8+galaxy12</a></p>

<h4 id="21-数据准备">2.1 数据准备</h4>

<p>可以下载原文中的数据上传到网站：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://zenodo.org/record/4494146/files/VCaP_Copy-Number.tsv
https://zenodo.org/record/4494146/files/VCaP_B-allele-Frequency.tsv
https://zenodo.org/record/4494146/files/VCaP-highConfidenceJunctions.tsv
https://zenodo.org/record/4494146/files/hg18_karyotype_withbands.txt
</code></pre></div></div>

<p>或者用网站上整理好的共享数据：</p>

<p>网站首页（UseGalaxy.cn）&gt; 数据共享 &gt; 数据库 &gt; circos，该目录下有4个测试文件：</p>

<ul>
  <li>hg18_karyotype_withbands.txt，染色体骨架文件</li>
  <li>circos-sv.tsv，结构变异信息</li>
  <li>circos-cnv.tsv，拷贝数变异信息</li>
  <li>circos-baf.tsv，次等位基因频率</li>
</ul>

<h4 id="22-ideogram">2.2 Ideogram</h4>

<p>由于圈图要呈现的数据很多，参数设置复杂，因此不可能一次就画好，而是有一个不断迭代的过程，一圈一圈地画。</p>

<p><strong>操作：设置Ideogram</strong></p>

<p>我们首先只设置骨架文件，其他参数保持默认：</p>

<p><img src="/assets/img/231106-tool-update-circos-1-karyotype.png" alt="" /></p>

<p>运行看看结果：</p>

<p><img src="/assets/img/231106-tool-update-circos-1-karyotype-result.png" alt="" /></p>

<p>可以看到，只有一个圈。</p>

<p>我们接着设置：</p>

<p><img src="/assets/img/231106-tool-update-circos-1-karyotype-setting.png" alt="" /></p>

<p>点击“Run Tool”，等待运行结束，点击结果文件右边的铅笔图标，将文件改名为：<strong>Circos Plot ideogram</strong>。</p>

<p><img src="/assets/img/231106-tool-update-circos-1-karyotype-result-ok.png" alt="" /></p>

<p><strong>小知识：</strong></p>

<blockquote>
  <p>染色体定义的格式如下：chr - ID LABEL START END COLOR</p>

  <p>前两个字段始终是<strong>chr</strong>，表示该行定义了一个染色体，以及 <strong>-</strong>。第二个字段定义了父结构，仅用于染色体条带定义。</p>

  <p><strong>ID</strong> 是数据文件中使用的标识符，而 <strong>LABEL</strong> 是将出现在图像上的骨架旁边的文本。</p>

  <p><strong>START</strong>和<strong>END</strong>定义了染色体的大小。核型文件应该存储整个染色体的大小，而不仅仅是您希望绘制的区域。我们可以使用其他参数仅绘制数据的子集（例如，只有一个染色体）。</p>

  <p><strong>COLOR</strong>参数是可选的，要使用内置的颜色方案，请再次在此列中使用chr1、chr2等。</p>
</blockquote>

<h4 id="23-数据轨道一结构变异">2.3 数据轨道一：结构变异</h4>

<p>结构变异需要提供两个断点的位置，如下：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chromosome    start    end    chromosome    start    end
</code></pre></div></div>

<ul>
  <li>第一个断点的染色体编号，开始位置，结束位置</li>
  <li>第二个断点的染色体编号，开始位置，结束位置</li>
</ul>

<p><img src="/assets/img/231106-tool-update-circos-2-sv-data.png" alt="" /></p>

<p><strong>操作：添加结构变异的连线轨道</strong></p>

<ol>
  <li>
    <p>点击右侧历史记录中的<strong>Circos Plot ideogram</strong>文件名，点击“Run Job Again”（一个转圈的箭头）</p>
  </li>
  <li>
    <p>结构变异轨道参数设置：</p>
  </li>
</ol>

<p><img src="/assets/img/231106-tool-update-circos-2-sv-setting.png" alt="" /></p>

<p><img src="/assets/img/231106-tool-update-circos-2-sv-result1.png" alt="" /></p>

<p>可以看到，5号染色体有许多染色体内的结构变异，我们可以单独画出5号染色体的结构变异。</p>

<p>最后， 将结果文件改名为：<strong>Circos Plot SVs</strong></p>

<p><strong>操作：只画5号染色体</strong></p>

<ol>
  <li>
    <p>重新运行刚才的工具</p>
  </li>
  <li>
    <p>改变参数设置：</p>
  </li>
</ol>

<p><img src="/assets/img/231106-tool-update-circos-2-sv-chr5-setting.png" alt="" /></p>

<p>得到如下图片：</p>

<p><img src="/assets/img/231106-tool-update-circos-2-sv-chr5.png" alt="" /></p>

<h4 id="24-数据轨道二拷贝数变异">2.4 数据轨道二：拷贝数变异</h4>

<p>拷贝数变异需要准备的数据格式：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chr    start    end    value
</code></pre></div></div>
<ul>
  <li>chr，染色体</li>
  <li>chr，变异开始位置</li>
  <li>end, 变异结束位置</li>
  <li>value，变异倍数</li>
</ul>

<p><img src="/assets/img/231106-tool-update-circos-3-cnv-data.png" alt="" /></p>

<p><strong>操作：增加拷贝数轨道</strong></p>

<ol>
  <li>
    <p>重新运行画“Circos Plot SVs”的工具。</p>
  </li>
  <li>
    <p>增加一个散点图轨道到图形中：</p>
  </li>
</ol>

<p><img src="/assets/img/231106-tool-update-circos-3-cnv-setting.png" alt="" /></p>

<p>结果如下：</p>

<p><img src="/assets/img/231106-tool-update-circos-3-cnv-result1.png" alt="" /></p>

<p>可以看到，拷贝数轨道与结构变异轨道重叠了。这是因为没有个性结构变异轨道的半径设置：</p>

<ol>
  <li>重新运行工具，改变以下参数：</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>In "Link Tracks":
    - In "1: Link Data":
        - "Inside Radius": 0.75
</code></pre></div></div>

<p>应该看到这样的图：</p>

<p><img src="/assets/img/231106-tool-update-circos-3-cnv-result2.png" alt="" /></p>

<p><strong>操作：用不同颜色标记拷贝数变异状态</strong></p>

<ol>
  <li>
    <p>重新运行上一步的结果</p>
  </li>
  <li>
    <p>在<strong>2D data track</strong>的拷贝数轨道中，增加以下规则：</p>
  </li>
</ol>

<p><img src="/assets/img/231106-tool-update-circos-3-cnv-setting2.png" alt="" /></p>

<p>应该得到如下结果：</p>

<p><img src="/assets/img/231106-tool-update-circos-3-cnv-result3.png" alt="" /></p>

<p><strong>操作：为拷贝数轨道增加坐标轴</strong></p>

<ol>
  <li>
    <p>重新运行刚才的结果</p>
  </li>
  <li>
    <p>在<strong>2D data track</strong>中的拷贝数轨道设置页面：</p>
  </li>
</ol>

<p><img src="/assets/img/231106-tool-update-circos-3-cnv-setting3.png" alt="" /></p>

<p>结果如下：</p>

<p><img src="/assets/img/231106-tool-update-circos-3-cnv-final.png" alt="" /></p>

<p>最后， 重命名结果文件为：<strong>Circos Plot CopyNumber</strong></p>

<h4 id="25-数据轨道三次等位基因频率">2.5 数据轨道三：次等位基因频率</h4>

<p>数据格式与拷贝数变异的类似，也是准备4列数据：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chr    start    end    value
</code></pre></div></div>

<p><strong>操作：增加次等位基因频率到图中</strong></p>

<ol>
  <li>
    <p>重新运行刚才的工具（<strong>Circos Plot CopyNumber</strong>）</p>
  </li>
  <li>
    <p>增加新的散点图轨道到图中：</p>
  </li>
</ol>

<p><img src="/assets/img/231106-tool-update-circos-4-b-allel-setting.png" alt="" /></p>

<p>最后， 重命名结果文件：<strong>Circos Plot BAF</strong></p>

<p>结果图：</p>

<p><img src="/assets/img/231106-tool-update-circos-4-b-allel-result.png" alt="" /></p>

<h4 id="26-存在问题如何将结构变异轨道拆分成两个">2.6 存在问题：如何将结构变异轨道拆分成两个</h4>

<p><strong>操作：两个连接轨道</strong></p>

<ol>
  <li>
    <p>重新运行刚才的工具（<strong>Circos Plot BAF</strong>）</p>
  </li>
  <li>
    <p>配置两个单独的连接轨道</p>
  </li>
</ol>

<p><img src="/assets/img/231106-tool-update-circos-5-question-setting1.png" alt="" />
<img src="/assets/img/231106-tool-update-circos-5-question-setting2.png" alt="" /></p>

<p>最后结果：</p>

<p><img src="/assets/img/231106-tool-update-circos-6-recreate-final.png" alt="" /></p>

<p>可以看到，跟原图完全一样，可以说复现效果达到了100%。</p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[2023-11-06，Galaxy生信云平台 UseGalaxy.cn 新增circos圈图绘制工具。]]></summary></entry><entry><title type="html">新增热图绘制工具：heatmap2</title><link href="https://usegalaxy.github.io/posts/2023/11/05/tool-update/" rel="alternate" type="text/html" title="新增热图绘制工具：heatmap2" /><published>2023-11-05T00:00:00+00:00</published><updated>2023-11-05T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/05/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/05/tool-update/"><![CDATA[<p>2023-11-05，Galaxy生信云平台 <a href="https://usegalaxy.cn">UseGalaxy.cn</a> 新增绘制热图工具。</p>

<h2 id="graphdisplay-data">Graph/Display Data</h2>

<ul>
  <li>heatmap2 (Galaxy Version 3.1.3+galaxy0)</li>
</ul>

<h2 id="使用方法">使用方法</h2>

<p>进入网址：</p>

<p><a href="https://usegalaxy.cn/root?tool_id=toolshed.g2.bx.psu.edu/repos/iuc/ggplot2_heatmap2/ggplot2_heatmap2/3.1.3+galaxy0">https://usegalaxy.cn/root?tool_id=toolshed.g2.bx.psu.edu/repos/iuc/ggplot2_heatmap2/ggplot2_heatmap2/3.1.3+galaxy0</a></p>

<h3 id="数据准备">数据准备</h3>

<p>需要准备矩阵形数据，可用平台的测试数据（heatmap_test.tsv）练习，如下表：</p>

<p><img src="/assets/img/231105-tool-update-heatmap_data.png" alt="" /></p>

<ul>
  <li>第1列，是基因名，或其他名称</li>
  <li>第2 - 最后一列，是各样本的表达量，或其他所要展示的值</li>
</ul>

<h3 id="默认参数绘图">默认参数绘图</h3>

<p>选择输入数据表，其他参数保持默认，点击<strong>Run Tool</strong>，得到结果：</p>

<p><img src="/assets/img/231105-tool-update-heatmap.png" alt="" /></p>

<h3 id="设置标题">设置标题</h3>

<ul>
  <li><strong>Plot title</strong>: Heatmap by UseGalaxy.cn</li>
  <li><strong>key title</strong>: FPKM</li>
</ul>

<p>效果图：</p>

<p><img src="/assets/img/231105-tool-update-heatmap-title.png" alt="" /></p>

<h3 id="行列聚类">行列聚类</h3>

<p>可以设置是否聚类，聚类行或者列（默认行/列都聚类）。还可以设置计算距离的算法，以及聚类。在这里选择<strong>ward.D2</strong>聚类方法，如图：</p>

<p><img src="/assets/img/231105-tool-update-heatmap-clustering.png" alt="" /></p>

<p>结果如下：</p>

<p><img src="/assets/img/231105-tool-update-heatmap-clustering-result.png" alt="" /></p>

<h3 id="标准化数据">标准化数据</h3>

<p>在聚类之前，可以对数据进行标准化。</p>

<ul>
  <li>按行标准化</li>
</ul>

<p><img src="/assets/img/231105-tool-update-heatmap-scale-row.png" alt="" /></p>

<ul>
  <li>按列标准化</li>
</ul>

<p><img src="/assets/img/231105-tool-update-heatmap-scale-col.png" alt="" /></p>

<h3 id="调色板">调色板</h3>

<p>本热图工具支持R语言流行的RColorBrewer包中的颜色方案，或者指定2个颜色之间的渐变，或3个颜色之间的渐变。</p>

<p>这里选择 RColorBrewer 包的 Blues 颜色方案，结果如图：</p>

<p><img src="/assets/img/231105-tool-update-heatmap-color-blues.png" alt="" /></p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[2023-11-05，Galaxy生信云平台 UseGalaxy.cn 新增绘制热图工具。]]></summary></entry><entry><title type="html">新增单因素分析，多因素分析两个工具</title><link href="https://usegalaxy.github.io/posts/2023/11/04/tool-update/" rel="alternate" type="text/html" title="新增单因素分析，多因素分析两个工具" /><published>2023-11-04T00:00:00+00:00</published><updated>2023-11-04T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/04/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/04/tool-update/"><![CDATA[<p>2023-11-04，Galaxy生信云平台 <a href="https://usegalaxy.cn">UseGalaxy.cn</a> 新增 2 个工具。</p>

<h2 id="cancer-research">Cancer Research</h2>

<ul>
  <li>单因素分析 with survival (Galaxy Version 0.5)</li>
  <li>多因素分析 with survival (Galaxy Version 0.7)</li>
</ul>

<h2 id="使用方法">使用方法</h2>

<h3 id="单因素分析">单因素分析</h3>

<ul>
  <li>第一步：上传生存数据表，或选择测试数据集：Data libraries &gt; Table data &gt; survival_lung.tsv</li>
  <li>第二步：选择<strong>生存时间</strong>所在的列</li>
  <li>第三步：选择<strong>终点事件</strong>所在的列</li>
  <li>第四步：填写终点事件标志（通常是1，保持默认即可）</li>
  <li>第五步：选择是否自动进行<strong>多因素分析</strong>，如果选择<strong>是</strong>，则会要求给定一个<em>P</em>值，单因素分析结果中小于给定<em>P</em>值的因素会自动进行后续多因素分析步骤</li>
  <li>最后：点击<strong>Run Tool</strong>，等待计算结果</li>
</ul>

<p>操作步骤如下图：</p>

<p><img src="/assets/img/231104-tool-update-univariate.png" alt="" /></p>

<h3 id="多因素分析">多因素分析</h3>

<p>操作步骤与单因素分析类似，如下图：</p>

<p><img src="/assets/img/231104-tool-update-multivariate.png" alt="" /></p>

<h2 id="最后">最后</h2>

<p>Galaxy生信云平台 <a href="https://usegalaxy.cn">usegalaxy.cn</a> 致力于降低生信分析门槛，将许多常见的生信分析都放到云上，用户无需安装本地软件或R包，只需要上传数据，点击鼠标即可进行生信分析。</p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[2023-11-04，Galaxy生信云平台 UseGalaxy.cn 新增 2 个工具。]]></summary></entry></feed>