<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="https://usegalaxy.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://usegalaxy.github.io/" rel="alternate" type="text/html" /><updated>2024-03-25T11:34:41+00:00</updated><id>https://usegalaxy.github.io/feed.xml</id><title type="html">Galaxy 中国</title><subtitle>The European Galaxy Instance</subtitle><entry><title type="html">从零开始入门Galaxy生信云平台</title><link href="https://usegalaxy.github.io/posts/2024/01/05/training/" rel="alternate" type="text/html" title="从零开始入门Galaxy生信云平台" /><published>2024-01-05T00:00:00+00:00</published><updated>2024-01-05T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2024/01/05/training</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2024/01/05/training/"><![CDATA[<p>Galaxy是一个在线的生物信息云平台，目前已经上线了<strong>1300+</strong>生信实用工具，整合的一键式分析流程也在陆续上线中。这些工具/流程涵盖生物信息数据分析的方方面面，包括但不限于：</p>

<ul>
  <li>基因组数据分析</li>
  <li>转录组数据分析（Bulk RNA-seq， Single Cell RNA-seq）</li>
  <li>蛋白质组数据分析</li>
  <li>癌症基因组测序研究</li>
  <li>统计学 / 机器学习</li>
  <li>生信绘图</li>
</ul>

<p>Galaxy能够进行生物信息学上下游全链条的数据分析，它可以服务于：</p>

<ul>
  <li>学生，学习生物信息学；</li>
  <li>教师，讲授生物信息学；</li>
  <li>科研人员，快速进行数据分析，无需繁琐的工具安装和流程搭建，把精力放到生物学意义的挖掘上。</li>
</ul>

<p>如何开始使用Galaxy？本文将介绍Galaxy中的关键任务：上传文件、使用工具、查看历史记录以及运行工作流程。</p>
<h2 id="galaxy的外观"><strong>Galaxy的外观</strong></h2>

<ol>
  <li>打开任意浏览器（推荐Chrome）</li>
  <li>输入网址：usegalaxy.cn</li>
  <li>注册 &amp; 登录</li>
</ol>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463509776-bf2eb8b7-da7b-48fc-8261-52df5eed6335.png#averageHue=%23fcfbfb&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u6529f740&amp;originHeight=567&amp;originWidth=1080&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u5940cdda-f7f5-4a7e-a1e1-086ff81f246&amp;title=" alt="" />
Galaxy主页分为四个面板，从左到右为：</p>

<ul>
  <li>活动栏</li>
  <li>工具面板</li>
  <li>视图面板</li>
  <li>历史面板</li>
</ul>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463509806-7bfe2cdc-045a-43c0-821a-29138a277306.png#averageHue=%23eccfa3&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=ud03d64ae&amp;originHeight=527&amp;originWidth=1080&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u5fbc32da-7960-430b-a5df-cee53de9548&amp;title=" alt="" />
首次使用Galaxy时，历史面板中不会有文件。</p>
<h2 id="关键操作"><strong>关键操作</strong></h2>
<h3 id="命名历史面板"><strong>命名历史面板</strong></h3>

<ol>
  <li>来到右侧的<strong>历史</strong>面板</li>
  <li>点击<img src="https://cdn.nlark.com/yuque/0/2024/svg/38524078/1704463509764-d1c26561-2f07-4535-a323-45e30195b7c6.svg#clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u3b15a481&amp;originHeight=16&amp;originWidth=16&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u167d9b7f-5c6a-49bd-8497-2dfddd77f44&amp;title=" alt="" /><strong>(Edit)</strong></li>
  <li>输入一个新的名称，如：Learn To Use Galaxy</li>
  <li>点击<img src="https://cdn.nlark.com/yuque/0/2024/svg/38524078/1704463509777-287189a7-3aa0-4929-a1cc-c640ea5e53d7.svg#clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u20b823b2&amp;originHeight=16&amp;originWidth=14&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=ub91ee7a9-2c8d-4fec-9b0a-f3566f4b85e&amp;title=" alt="" /><strong>保存</strong>
    <ul>
      <li>如果无法重命名，可能你没有登录，请登录后重试。
        <h3 id="上传文件"><strong>上传文件</strong></h3>
        <p>工具位于左侧的面板中。</p>
      </li>
    </ul>
  </li>
  <li>在<strong>工具</strong>面板的上方，点击<img src="https://cdn.nlark.com/yuque/0/2024/svg/38524078/1704463509772-d3b24b0e-b27c-4c4f-94ce-e60138024a63.svg#clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=ufe14f7dc&amp;originHeight=16&amp;originWidth=16&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u36d7d147-6e80-4e43-aa1d-765e21a20a9&amp;title=" alt="" /><strong>Upload Data</strong></li>
</ol>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463510237-7e47d064-ff1e-43bd-bcc8-c8d99dbe875b.png#averageHue=%23e7e9ec&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=uf3bb9b2e&amp;originHeight=522&amp;originWidth=750&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u64102718-068d-4d6e-925c-08fed990972&amp;title=" alt="" />
这将打开一个界面。</p>

<ol>
  <li>点击 <strong>粘贴数据或链接</strong></li>
  <li>粘贴一个文件地址：https://zenodo.org/record/582600/files/mutant_R1.fastq</li>
</ol>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463510370-d9c941c0-5815-454d-a7d4-fa3d505a3721.png#averageHue=%23e4e4e3&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u5cb103c1&amp;originHeight=653&amp;originWidth=1080&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u679393eb-3db3-485d-94d4-2acb9cd3774&amp;title=" alt="" /></p>

<ol>
  <li>点击<strong>开始</strong></li>
  <li>点击<strong>关闭</strong>
    <ul>
      <li>上传的文件位于当前历史中，称为数据集；</li>
      <li>上传的文件将经历三个阶段：灰色（准备/排队）、黄色（正在处理）和绿色（上传成功）。</li>
    </ul>
  </li>
</ol>

<p>这是什么文件？</p>

<ol>
  <li>要查看文件的内容，可以点击数据集名称后面的<img src="https://cdn.nlark.com/yuque/0/2024/svg/38524078/1704463510339-d2313f83-0634-4208-9a44-d99541a5e31a.svg#clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=ucc7817a1&amp;originHeight=16&amp;originWidth=18&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u41456534-b193-45db-8809-8aa58f7dbb1&amp;title=" alt="" /><strong>（eye）</strong></li>
</ol>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463510340-4548b0e9-578a-4f4c-85cc-4094c32a51b7.png#averageHue=%23ecf0ee&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=ue0fe3fa5&amp;originHeight=522&amp;originWidth=596&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=uac445fec-d10b-4a8c-a685-4a3cc327c37&amp;title=" alt="" />
文件的内容将显示在中间的Galaxy面板中，此文件包含来自细菌的 DNA 测序reads，采用 FASTQ 格式：
<img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463510339-2a211148-f359-4ad3-a956-50132a6d6157.png#averageHue=%23e0dddc&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u733bc431&amp;originHeight=425&amp;originWidth=1080&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u3b1472cf-ffd4-454a-a755-f7597ffaa1d&amp;title=" alt="" /></p>
<h3 id="使用工具"><strong>使用工具</strong></h3>
<p>让我们看一下这个文件中的reads质量。</p>

<ol>
  <li>在工具面板上方的搜索框中输入：<strong>FastQC</strong></li>
  <li>点击 <strong>FastQC</strong> Read Quality reports</li>
</ol>

<p>工具将会在中间的Galaxy面板中显示。</p>

<ol>
  <li>设置以下参数：
    <ol>
      <li><em>*Raw read data from your current history **</em>：刚才上传的文件</li>
      <li>其他参数保持默认</li>
    </ol>
  </li>
  <li>点击 <strong>Run Tool</strong></li>
</ol>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463510618-aa917024-f982-4db3-9a28-3ed896cdc3c4.png#averageHue=%23fefefe&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u4c82c569&amp;originHeight=487&amp;originWidth=1080&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u81167f98-4bce-4bf4-8705-b579936caf3&amp;title=" alt="" />
工具将会运行，并且两个新的输出数据集将显示在历史面板的顶部。
<strong>查看结果</strong>
现在，我们将查看输出的数据集：<strong><em>FastQC on data 1: Webpage</em></strong></p>

<ul>
  <li>注意：Galaxy会根据其使用的工具名称（FastQC）和输入（data 1）为此数据集命名</li>
  <li>名称“data 1”表示Galaxy当前历史记录中的数据集编号1（即我们的 FASTQ 文件）</li>
</ul>

<p>一旦输出数据集的名称变为绿色，有两种方式查看文件的内容：</p>

<ul>
  <li>如前所述，可以点击<img src="https://cdn.nlark.com/yuque/0/2024/svg/38524078/1704463510766-0db22f29-f226-4538-a086-f733f1aaf899.svg#clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u6a089b9e&amp;originHeight=16&amp;originWidth=18&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u9c7d2808-6812-4fe6-9a90-04b07497c49&amp;title=" alt="" />图标在线查看</li>
  <li>也可以点击一下文件名，待展开后点击<img src="https://cdn.nlark.com/yuque/0/2024/svg/38524078/1704463510797-36bdbe08-8b8d-4f3e-9df5-53b8f2eef60e.svg#clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u98975a14&amp;originHeight=16&amp;originWidth=14&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u6b2a447c-31c2-4c1d-a445-95da1dfaf8f&amp;title=" alt="" />图标下载到本地电脑后查看</li>
</ul>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463510902-1feca4d9-be0e-420f-bad8-16b87ebd8c2c.png#averageHue=%23ebddd6&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u5f893d7c&amp;originHeight=729&amp;originWidth=742&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u96b96d47-635b-4897-893c-2f43b776cc0&amp;title=" alt="" /></p>
<h2 id="运行其他工具"><strong>运行其他工具</strong></h2>
<p>让我们运行一个工具来过滤掉 FASTQ 文件中质量较低的 reads。</p>

<ol>
  <li>在工具面板上方的搜索框中输入：<strong>Filter by quality</strong></li>
  <li>点击工具 <strong>Filter by quality</strong></li>
  <li>设置以下参数：
    <ol>
      <li><em>*Input FASTQ file **</em>：最初的 FASTQ 文件</li>
      <li><em>*Quality cut-off value **</em>：35</li>
      <li><strong>Percent of bases in sequence that must have quality equal to / higher than cut-off value：80</strong></li>
    </ol>
  </li>
  <li>点击 <strong>Run Tool</strong></li>
</ol>

<p>工具运行后，其输出的数据集将显示在历史面板的顶部。
<img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463510944-51f41a07-7e2a-4cd7-9a1e-b37589b8e326.png#averageHue=%23cfe8c8&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u47bab2d6&amp;originHeight=756&amp;originWidth=608&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u6eae4d37-7c27-4923-8a21-0cf37cead26&amp;title=" alt="" /></p>

<ul>
  <li>该数据集的名称为：Filter by quality on data 1</li>
  <li>历史面板中数据集前面的实际数字并不重要</li>
</ul>

<p>这个过滤工具的结果是什么？我们可以单击<img src="https://cdn.nlark.com/yuque/0/2024/svg/38524078/1704463511071-ba26d3c3-9d86-482c-825a-343f06ad0783.svg#clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u5392998f&amp;originHeight=16&amp;originWidth=18&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=udae720ba-4ea0-4c29-b505-cf4c41b7fef&amp;title=" alt="" />图标来查看此输出文件的内容，但信息量不大 - 我们只会看到一个 reads 列表。
问题：过滤掉了多少 reads？
答案：1786 (14%)
<strong>更改设置后重新运行工具</strong>
现在，我们尝试用更高的标准过滤原始数据，并查看过滤后的结果。</p>

<ol>
  <li>点击任意一个结果文件名，再点击<img src="https://cdn.nlark.com/yuque/0/2024/svg/38524078/1704463511168-8368f6b3-1f31-4c10-bdd6-c0fe4908e49f.svg#clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=ue00e8caf&amp;originHeight=16&amp;originWidth=16&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u6932e1f5-261e-4f9e-81ac-606a7aea5f9&amp;title=" alt="" />按钮<strong>（Run Job Again）</strong></li>
</ol>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463511158-84d17fca-e186-4d0a-8278-f503f383081d.png#averageHue=%23c4e3b9&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=ufd441a75&amp;originHeight=1428&amp;originWidth=590&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u553876fd-66fc-4b00-bcc2-c293c4f0658&amp;title=" alt="" />
这将在中央面板中展示工具界面，并且工具的参数设置与刚才生成该数据集的参数是一致的。也就是说，上一次分析的结果很容易重新修改参数后再分析。</p>

<ol>
  <li>将部分参数修改为更严格，如：
    <ol>
      <li><em>*Quality cut-off value **</em>：36</li>
      <li><strong>Percent of bases in sequence that must have quality equal to / higher than cut-off value *：80</strong></li>
    </ol>
  </li>
  <li>点击 <strong>Run Tool</strong></li>
</ol>

<p>问题：在这些新的过滤条件下丢弃了多少 reads？
11517 （92%），大多数 reads 都被过滤了，可见设置的过滤条件过于严格，应该适当放宽一些。
<strong>分享你的历史记录</strong>
最后，如果你希望将自己的数据分析过程与他人分享，或者你的分析有问题需要寻求帮助时，可以共享你的历史记录，其他人则可以导入和访问你历史记录中的数据集、参数和步骤。
单击 <strong>历史面板 **的<img src="https://cdn.nlark.com/yuque/0/2024/svg/38524078/1704463511353-15967aec-7963-4ec0-acf0-b592edcab6e4.svg#clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u3e726d66&amp;originHeight=16&amp;originWidth=10&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=ub242151a-d971-403b-9a28-708df101d25&amp;title=" alt="" /></strong>（History options）<strong>，单击 <img src="https://cdn.nlark.com/yuque/0/2024/svg/38524078/1704463511390-db47ec2b-8c00-44d8-9d8d-18ec2e26bc71.svg#clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u55ea805f&amp;originHeight=16&amp;originWidth=14&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u2bd06bad-17a1-4ec4-a8a5-6f07ccf79f3&amp;title=" alt="" /></strong>分享或发布历史，**根据分享范围的不同，有3种方式共享历史：</p>

<ol>
  <li>共享给特定用户，通过指定用户的邮箱来实现；</li>
  <li>通过链接共享历史记录。选中 <strong>Make History accessible，</strong>此时会出现一个链接，其他人可以通过该链接访问你的历史。</li>
  <li>将历史记录共享给本Galaxy平台的所有用户。选中 <strong>Make History publicly available in Published Histories</strong>实现。</li>
</ol>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463511523-eb320e75-7002-4d55-90cd-0c67dfba5635.png#averageHue=%23fdfcfc&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=ube571d44&amp;originHeight=276&amp;originWidth=1080&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u14ad4af8-e50c-42e4-99aa-8b29ccda693&amp;title=" alt="" />
注意：如果你希望共享的历史版本不再改变，可以先将历史记录复制一份，再共享。可以通过历史面板下拉菜单中的 <strong>Copy this History</strong> 复制历史。</p>
<h3 id="将你的分析历史转变成工作流程"><strong>将你的分析历史转变成工作流程</strong></h3>
<p>当你仔细查看历史记录时，可以看到它包含了我们分析的所有步骤，从开始（底部）到结束（顶部）。Galaxy的历史面板记录了你运行的每个工具的详细信息，并保留了每个步骤中应用的所有参数设置。但是，当你需要分析数据时，再次逐个执行每个步骤会很乏味。
Galaxy平台可以将分析过的历史记录转变成流程，通过历史面板<img src="https://cdn.nlark.com/yuque/0/2024/svg/38524078/1704463511536-00b8c817-97ce-48c3-8b03-c76dfb7762e0.svg#clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u8057d159&amp;originHeight=16&amp;originWidth=10&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u4cf394ed-a5a1-4da8-af20-fa0865b246e&amp;title=" alt="" /><strong>（History options）</strong>中的 **提取为工作流 **即可以轻松实现。这意味着，每当你要构建工作流程时，只需要手动执行一次步骤，然后将其转换为工作流，这样下次执行相同的分析将大大减少工作量。</p>

<ol>
  <li>清理历史记录：从历史面板中删除所有失败的任务，通过点击删除按钮。</li>
  <li>点击历史面板右上角的<strong>（History options），</strong>然后选择 <strong>提取为工作流。</strong></li>
</ol>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463511626-8f8c7bec-6278-48f1-b886-8febb0b5089b.png#averageHue=%23fcfcfc&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=ueb915086&amp;originHeight=668&amp;originWidth=1080&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=ucb52b6be-bf49-4bb8-be8e-e22cfa7e24d&amp;title=" alt="" /></p>

<ol>
  <li>重命名 **Workflow name **为：QC and filtering</li>
  <li>重命名右侧输入数据为：FASTQ reads</li>
  <li>如果某个步骤不需要包含在流程中，可以取消其前面的复选框。在这里，取消第二个 <strong>Filter by quality</strong> 工具的复选框。</li>
</ol>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463511720-95bc07db-067c-47a2-8b6a-75cd03d298be.png#averageHue=%23fcfcfc&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=ude72e8ce&amp;originHeight=653&amp;originWidth=1080&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u25b0bf19-3e0d-47e0-a234-a3e24477d63&amp;title=" alt="" /></p>

<ol>
  <li>点击 <strong>Create Workflow</strong>，将会看到创建成功的消息。</li>
</ol>

<p>下面，我们将使用刚才创建的工作流程。</p>
<h3 id="创建新历史记录"><strong>创建新历史记录</strong></h3>
<p>让我们创建一个新的历史记录。</p>

<ol>
  <li>点击历史面板上方的加号<img src="https://cdn.nlark.com/yuque/0/2024/svg/38524078/1704463511777-7cade1a7-176f-443e-b414-e660bbef6457.svg#clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u73003089&amp;originHeight=16&amp;originWidth=14&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u11a183da-eace-40bd-8324-602b88b7c74&amp;title=" alt="" /></li>
  <li>重命名历史：<strong>Run Workflow</strong>
    <h3 id="在历史之间复制文件"><strong>在历史之间复制文件</strong></h3>
    <p>历史面板会立即显示新创建的历史，之前的历史记录去哪儿了呢？</p>
  </li>
  <li>点击<strong>History options</strong>, 点击 <strong>Show Histories side-by-side</strong></li>
  <li>复制一个数据集到新的历史中。直接从第1个历史中拖动 FASTQ 文件到新的历史中即可。</li>
</ol>

<p><img src="https://cdn.nlark.com/yuque/0/2024/gif/38524078/1704463511900-f2c3e77a-4fd9-41d4-9fdc-e634776749ad.gif#averageHue=%23f0f1f8&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u5a8f0b25&amp;originHeight=540&amp;originWidth=1080&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u481c3b8e-4e25-4e9d-86be-fefc56c4744&amp;title=" alt="" /></p>
<h3 id="在新的历史中运行流程"><strong>在新的历史中运行流程</strong></h3>
<p>现在我们已经构建了工作流程，它可以用于新的 FASTQ 数据的分析。</p>

<ol>
  <li>点击Galaxy上方菜单栏中的 <strong>工作流程</strong>。这将会列出你所有的工作流程，新创建的在最上方。</li>
  <li>点击右侧（Run workflow）按钮。</li>
  <li><em>*FASTQ reads **</em>：选择FASTQ文件（会默认自动选上）。</li>
  <li>点击右上角的 <strong>Run Workflow</strong> 按钮。</li>
</ol>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463511980-573f38f2-d604-4c3a-b44a-aef1db44f32e.png#averageHue=%23fdfdfd&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=u5a03ea5b&amp;originHeight=187&amp;originWidth=1080&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u49fddd18-a472-4a4e-adbd-9fefbbbefe8&amp;title=" alt="" />
你将看到流程成功调用的消息。所有任务将在新的历史中运行，它将重复最开始历史中的分析步骤。
<img src="https://cdn.nlark.com/yuque/0/2024/png/38524078/1704463512144-8fc328a4-8199-4089-8158-3f905f23bbd4.png#averageHue=%23e8d4ba&amp;clientId=ub526ca37-98b0-4&amp;from=paste&amp;id=ua31e56a8&amp;originHeight=252&amp;originWidth=1080&amp;originalType=url&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u6b780af5-5204-4b8e-b349-00fbcb56ac1&amp;title=" alt="" />
<strong>结论</strong>
至此，你已经入门了Galaxy云平台。掌握了平台的关键操作，如上传文件、命名/新建/分享历史、运行工具、查看/下载分析结果，以及将分析过程提取为工作流以便重复使用。</p>]]></content><author><name></name></author><category term="training" /><summary type="html"><![CDATA[Galaxy是一个在线的生物信息云平台，目前已经上线了1300+生信实用工具，整合的一键式分析流程也在陆续上线中。这些工具/流程涵盖生物信息数据分析的方方面面，包括但不限于：]]></summary></entry><entry><title type="html">上传数据，轻松分析 | 云上转录组标准分析流程使用指南</title><link href="https://usegalaxy.github.io/posts/2023/12/14/tool-update/" rel="alternate" type="text/html" title="上传数据，轻松分析 | 云上转录组标准分析流程使用指南" /><published>2023-12-14T00:00:00+00:00</published><updated>2023-12-14T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/12/14/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/12/14/tool-update/"><![CDATA[<h2 id="工具地址">工具地址</h2>

<p>Galaxy中国（UseGalaxy.cn）&gt; RNA ANALYSIS TOOLS &gt; Standard Analysis &gt; 有参转录组标准分析</p>

<h2 id="功能描述">功能描述</h2>

<p>本工具用于转录组二代测序数据的标准分析，可生成表达量矩阵和测序数据质控结果。</p>

<hr />

<p>这是一套非常流行的转录组定量分析流程，即 Hisat2 + Stringtie 经典组合，其步骤为：</p>

<ol>
  <li>hisat2，将经过质控得到的 Clean data，比对到参考基因组上；</li>
  <li>samblaster，去除PCR或光学重复;</li>
  <li>samtools，去除不合格的比对序列，将 SAM 文件转换成 BAM 文件；</li>
  <li>stringtie，结合 hisat2 得到的比对文件（BAM）和基因组注释文件（GTF），进行定量分析，得到每个样本的表达量文件（FPKM / TPM）；</li>
  <li>prepDE.py，将 FPTM / TPM 转化为 Counts 计数的表达量矩阵，用于后续差异基因等分析。</li>
</ol>

<p><strong>TIPs：</strong></p>
<ul>
  <li>原始数据处理，需要大量计算资源（按需付费），请联系管理员配置（ 微信：ilovebtit ）。</li>
  <li>所有样本并行处理，运算时间跟数据量最大的那个样本有关，提交任务后请耐心等待。</li>
</ul>

<h2 id="操作步骤">操作步骤</h2>

<h3 id="1-创建一个新的历史面板">1. 创建一个新的历史面板</h3>

<p>在网站右侧的历史面板上方，点击 <strong>+</strong> 号，创建一个新的历史面板，可以为新面板取一个名字，如：Three Yeast Test。</p>

<p><img src="/assets/img/231214-tool-update-rnaseq-create-history.png" alt="" /></p>

<h3 id="2-数据准备">2. 数据准备</h3>

<h4 id="21-共享数据的使用方法">2.1 共享数据的使用方法</h4>

<p>如果使用测试数据，可以在网站上方菜单栏，找到：</p>

<blockquote>
  <ul>
    <li>数据共享 &gt; 数据库 &gt; RNA-seq &gt; Three Yeast</li>
  </ul>
</blockquote>

<p><img src="/assets/img/231214-tool-update-rnaseq-share-database.png" alt="" /></p>

<p>可以看到6个Fastq文件，是3个酵母样本的双端测序数据（抽样数据用于工具测试） 。</p>

<blockquote>
  <ul>
    <li>全选6个Fastq文件。</li>
    <li>点击上方 <strong>Add to History</strong> 按钮，点击 <strong>as Datasets</strong>，将数据添加到刚才新建的历史面板。</li>
  </ul>
</blockquote>

<p><img src="/assets/img/231214-tool-update-rnaseq-three-yeast-select-all.png" alt="" /></p>

<p>回到网站主页，可以在历史面板中看见刚才添加的6个Fastq文件：</p>

<p><img src="/assets/img/231214-tool-update-rnaseq-three-yeast-add-to-history.png" alt="" /></p>

<p>至此我们学习了添加共享数据到历史面板的方法。</p>

<h4 id="22-自有数据的上传方法">2.2 自有数据的上传方法</h4>

<p>我们再来看看如何上传自己的数据，同样，增加一个新的历史面板，并为其取一个有意义的名称，如 RNAseq Test Using Tree Yeast。</p>

<blockquote>
  <ul>
    <li>点击网站左侧的 <strong>Upload Data</strong>。</li>
  </ul>
</blockquote>

<p><img src="/assets/img/231214-tool-update-rnaseq-upload-data.png" alt="" /></p>

<blockquote>
  <ul>
    <li>点击 <strong>选择本地磁盘文件</strong>。</li>
  </ul>
</blockquote>

<p><img src="/assets/img/231214-tool-update-rnaseq-upload-data2.png" alt="" /></p>

<blockquote>
  <ul>
    <li>选择要上传的Fastq文件（可以多选），点击 <strong>打开</strong>。</li>
  </ul>
</blockquote>

<p><img src="/assets/img/231214-tool-update-rnaseq-upload-data-select.png" alt="" /></p>

<blockquote>
  <ul>
    <li>回到上传工具界面，点击<strong>开始</strong>。</li>
  </ul>
</blockquote>

<p><img src="/assets/img/231214-tool-update-rnaseq-upload-data-ready.png" alt="" /></p>

<ul>
  <li>点击 <strong>Close</strong> 等待上传完成。历史面板中的文件名都变成绿色后，表示上传完成。</li>
</ul>

<p><img src="/assets/img/231214-tool-update-rnaseq-upload-data-finish.png" alt="" /></p>

<h3 id="3-制作-list-of-pairs">3. 制作 List of Pairs</h3>

<p>放松，不要被概念吓倒，其实就是把所有Fastq文件的文件名放到一个列表中。</p>

<blockquote>
  <ul>
    <li>点击历史面板中的 <strong>选择按钮</strong>，然后点击 <strong>Select All</strong>。</li>
  </ul>
</blockquote>

<p><img src="/assets/img/231214-tool-update-rnaseq-history-select.png" alt="" /></p>

<blockquote>
  <ul>
    <li>然后占开下拉菜单，点击 <strong>Build List of Dataset Pairs</strong>。</li>
  </ul>
</blockquote>

<p><img src="/assets/img/231214-tool-update-rnaseq-history-build-list-of-pairs.png" alt="" /></p>

<p>在弹出的界面中，可以看到，6个Fastq文件已经自动配成3对了(来自于同一个样本的Read1 / Read2配对)。</p>

<p><img src="/assets/img/231214-tool-update-rnaseq-history-paired.png" alt="" /></p>

<blockquote>
  <p>绿色部分：</p>
  <ul>
    <li>左边是 Read 1</li>
    <li>右边是 Read 2</li>
    <li>中间是样本名</li>
  </ul>
</blockquote>

<p>这时候可以看到，中间的所有样本名最后都有一个 .fastq 后缀，说明自动配对得不完美，我们可以指定Fastq文件的后续，实现更加精确的配对。</p>

<p><em>PS：当然这不是必须的，现在配对的情况已经可以用于后续分析了，我们去掉样本名中的.fastq后缀，仅仅是为了视觉上更简洁。</em></p>

<blockquote>
  <ul>
    <li>点击 <strong>Unpair All</strong>，可以看到数据变成了未配对状态。</li>
  </ul>
</blockquote>

<p><img src="/assets/img/231214-tool-update-rnaseq-history-unpaired.png" alt="" /></p>

<blockquote>
  <ul>
    <li>我们指定更精确的Fastq文件名后缀。在左侧文本框输入：_1.fastq.gz，在右侧文本框输入：_2.fastq.gz。然后点击 <strong>Auto-pair</strong>。</li>
  </ul>
</blockquote>

<p><img src="/assets/img/231214-tool-update-rnaseq-history-repaired.png" alt="" /></p>

<p>可以看到，现在匹配得更加精确。</p>

<blockquote>
  <ul>
    <li>我们为数据集取一个名字，如：Theee Yeat RNA，点击 <strong>Create collection</strong> 即可。</li>
  </ul>
</blockquote>

<p>回到历史面板，我们看到，原来的Fastq文件已经隐藏了，面板中出现了一个新的数据集：</p>

<p><img src="/assets/img/231214-tool-update-rnaseq-three-yeast.png" alt="" /></p>

<p>现在，我们可以正式运行转录组工具了。</p>

<h4 id="4-运行工具">4. 运行工具</h4>

<p>进入工具页面：</p>

<p><img src="/assets/img/231214-tool-update-rnaseq-tool.png" alt="" /></p>

<blockquote>
  <ul>
    <li>测序数据：选择刚才创建的数据集。</li>
    <li>参考基因组：选择 <strong>Yeast (partial genome, just for test)</strong>，因为我们教程中用的是3个酵母样本测序数据的一小部分用于工具测试。</li>
  </ul>
</blockquote>

<p>目前支持人类 GRCh37 / GRCh38 基因组。如果没有你需要的基因组，请联系管理员添加。</p>

<blockquote>
  <ul>
    <li>Dry Run，该按钮为 <strong>Yes</strong>，会生成流程的任务脚本，不会执行，通常用于测试设置的完整性，在此保持默认值：<strong>No</strong></li>
    <li>点击 <strong>Run Tool</strong>，等待分析结果。</li>
  </ul>
</blockquote>

<h4 id="5-任务查看">5. 任务查看</h4>

<p>历史面板中结果文件名的前面一直在转圈，说明任务正在运行。</p>

<p><img src="/assets/img/231214-tool-update-rnaseq-tool-running.png" alt="" /></p>

<p>若转圈停止：</p>

<ul>
  <li>结果文件名变为绿色，表示任务运行成功。</li>
  <li>结果文件名变为红色，表示任务运行失败。</li>
</ul>

<p><img src="/assets/img/231214-tool-update-rnaseq-tool-finish.png" alt="" /></p>

<p>最后：</p>

<ul>
  <li>点击文件旁的 <strong>眼睛</strong> 图标，可以查看文件内容。</li>
  <li>点击文件名，待文件区域展开后，再点击 <strong>磁盘</strong> 图标，即可下载结果文件。</li>
</ul>

<p><img src="/assets/img/231214-tool-update-rnaseq-show-and-download.png" alt="" /></p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[工具地址]]></summary></entry><entry><title type="html">出版级直方图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）</title><link href="https://usegalaxy.github.io/posts/2023/11/24/tool-update/" rel="alternate" type="text/html" title="出版级直方图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）" /><published>2023-11-24T00:00:00+00:00</published><updated>2023-11-24T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/24/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/24/tool-update/"><![CDATA[<h2 id="工具地址">工具地址</h2>

<p>Galaxy中国（UseGalaxy.cn）&gt; Graph/Display Data &gt; Ggpubr 直方图</p>

<h2 id="功能描述">功能描述</h2>

<p>这个工具可以绘制出版级直方图，是在线版的 ggpubr::gghistogram 工具。</p>

<ul>
  <li>直方图是一种图形表示方法，用于展示数据分布的频率。</li>
  <li>数据被分成若干组，每组的频率用条形高度表示，横轴表示数据范围。这有助于观察数据的分布和趋势。</li>
</ul>

<h2 id="测试数据">测试数据</h2>

<p>测试数据：数据共享 &gt; 数据库 &gt; Table data &gt; iris.tsv。</p>

<p><img src="/assets/img/test-data-iris.png" alt="" /></p>

<h2 id="实战演示">实战演示</h2>

<blockquote>
  <ul>
    <li>数据表：iris.tsv</li>
    <li>位置美学：
      <ul>
        <li>X 轴变量：Petal.Lenth</li>
        <li>Y 轴变量：count</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231124-tool-update-histogram-petal.length.count.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步（右边 History 中，单击上一步输出的结果文件名称，点击”向右转圈的箭头”，下同。）</li>
    <li>颜色美学：
      <ul>
        <li>轮廓颜色：跟随列名
          <ul>
            <li>选择：Species</li>
          </ul>
        </li>
        <li>填充颜色：跟随列名
          <ul>
            <li>选择：Species</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231124-tool-update-histogram-color-fill.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>高级设置：
      <ul>
        <li>自动分箱：
          <ul>
            <li>按数量分：
              <ul>
                <li>分箱数量：10</li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231124-tool-update-histogram-bins.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>高级设置：
      <ul>
        <li>自动分箱：
          <ul>
            <li>按宽度分：
              <ul>
                <li>分箱宽度：0.3</li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231124-tool-update-histogram-binwidth.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>高级设置：
      <ul>
        <li>Add marginal rug：YES</li>
        <li>Add density curves：YES</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231124-tool-update-histogram-density.png" alt="" /></p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[工具地址]]></summary></entry><entry><title type="html">出版级散点图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）</title><link href="https://usegalaxy.github.io/posts/2023/11/23/tool-update/" rel="alternate" type="text/html" title="出版级散点图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）" /><published>2023-11-23T00:00:00+00:00</published><updated>2023-11-23T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/23/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/23/tool-update/"><![CDATA[<h2 id="工具地址">工具地址</h2>

<p>Galaxy中国（UseGalaxy.cn）&gt; Graph/Display Data &gt; Ggpubr 散点图</p>

<h2 id="功能描述">功能描述</h2>

<p>这个工具可以绘制出版级散点图，是在线版的 ggpubr::ggscatter 工具。</p>

<ul>
  <li>散点图是一种图表，用于展示两个变量之间的关系。图中的每个点代表数据集中的一个观测值，横轴和纵轴分别表示两个变量。</li>
  <li>通过观察点的分布，可以识别变量之间的模式、趋势或相关性。</li>
</ul>

<h2 id="测试数据">测试数据</h2>

<p>测试数据：数据共享 &gt; 数据库 &gt; Table data &gt; mtcars.tsv。</p>

<p><img src="/assets/img/20231123-tool-update-scatter-data.png" alt="" /></p>

<h2 id="实战演示">实战演示</h2>

<blockquote>
  <ul>
    <li>数据表：mtcars.tsv</li>
    <li>位置美学：
      <ul>
        <li>X 轴变量：wt</li>
        <li>Y 轴变量：mpg</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/20231123-tool-update-scatter-wt-mpg.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步（右边 History 中，单击上一步输出的结果文件名称，点击”向右转圈的箭头”，下同。）</li>
    <li>高级设置：
      <ul>
        <li>显示相关系数:
          <ul>
            <li>X 坐标: 4</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/20231123-tool-update-scatter-cor-label_x_4.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>颜色美学：
      <ul>
        <li>轮廓颜色（可以是变量、颜色名称或颜色值）：cyl</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/20231123-tool-update-scatter-cor-color-cyl.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>图例设置：
位置：right</li>
  </ul>
</blockquote>

<p><img src="/assets/img/20231123-tool-update-scatter-legend-right.png" alt="" /></p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[工具地址]]></summary></entry><entry><title type="html">出版级小提琴图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）</title><link href="https://usegalaxy.github.io/posts/2023/11/22/tool-update/" rel="alternate" type="text/html" title="出版级小提琴图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）" /><published>2023-11-22T00:00:00+00:00</published><updated>2023-11-22T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/22/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/22/tool-update/"><![CDATA[<h2 id="工具地址">工具地址</h2>

<p>Galaxy中国（UseGalaxy.cn）&gt; Graph/Display Data &gt; Ggpubr 小提琴图</p>

<h2 id="功能描述">功能描述</h2>

<p>这个工具可以绘制出版级小提琴图，是在线版的 ggpubr::ggviolin 工具。</p>

<ul>
  <li>小提琴图是一种统计学中常用的图表，用于展示数据分布及离散程度。</li>
  <li>图形中的细长箱体表示数据分布，中间的线表示中位数，有助于观察数据的集中趋势和散布情况。</li>
</ul>

<h2 id="测试数据">测试数据</h2>

<p>测试数据：数据共享 &gt; 数据库 &gt; Table data &gt; ToothGrowth.tsv。</p>

<p><img src="/assets/img/231120-tool-update-barplot-data.png" alt="" /></p>

<h2 id="实战演示">实战演示</h2>

<blockquote>
  <ul>
    <li>数据表：ToothGrowth.tsv</li>
    <li>位置美学：
      <ul>
        <li>X 轴变量：dose</li>
        <li>Y 轴变量：len</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231122-tool-update-violin-dose-len.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步（右边 History 中，单击上一步输出的结果文件名称，点击”向右转圈的箭头”，下同。）</li>
    <li>统计检验：
      <ul>
        <li>添加全局 P 值：YES</li>
        <li>添加分组 P 值：YES</li>
        <li>分组比较 P 值显示方式：p 值
全局 P 值 Y 坐标（与数据的单位一致）：42</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231122-tool-update-violin-statistic.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步
      <ul>
        <li>颜色美学：</li>
        <li>主题：theme_light</li>
        <li>调色板：LANCET</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231122-tool-update-violin-color.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>坐标设置：
      <ul>
        <li>坐标范围：Use-defined axis scales
          <ul>
            <li>X 坐标最小值：1</li>
            <li>X 坐标最大值：3</li>
            <li>Y 坐标最小值：0</li>
            <li>Y 坐标最大值：50</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231122-tool-update-violin-axis.png" alt="" /></p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[工具地址]]></summary></entry><entry><title type="html">出版级箱线图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）</title><link href="https://usegalaxy.github.io/posts/2023/11/21/tool-update/" rel="alternate" type="text/html" title="出版级箱线图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）" /><published>2023-11-21T00:00:00+00:00</published><updated>2023-11-21T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/21/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/21/tool-update/"><![CDATA[<h2 id="工具地址">工具地址</h2>

<p>Galaxy中国（UseGalaxy.cn）&gt; Graph/Display Data &gt; 箱线图。</p>

<h2 id="功能描述">功能描述</h2>

<p>这个工具可以绘制出版级箱线图，是在线版的 ggpubr::boxplot 工具。</p>

<ul>
  <li>箱线图是一种数据可视化工具，用于展示数据集的分布情况和统计特征。它通过显示数据的中位数、上下四分位数、最小值和最大值，以及异常值，提供了对数据集整体分布的直观认识。</li>
  <li>箱线图的中央矩形代表数据集的四分位数范围，箱子的上下边缘延伸到最大和最小观测值，通过观察箱线图，我们可以识别出数据的集中趋势、离散程度，以及是否存在异常值。</li>
</ul>

<h2 id="测试数据">测试数据</h2>

<p>数据共享 &gt; 数据库 &gt; Table data &gt; ToothGrowth.tsv</p>

<p><img src="/assets/img/231120-tool-update-barplot-data.png" alt="" /></p>

<h2 id="实战演示">实战演示</h2>

<blockquote>
  <ul>
    <li>数据表：ToothGrowth.tsv</li>
    <li>位置美学：
      <ul>
        <li>X 轴变量：dose</li>
        <li>Y 轴变量：len</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-dose-len.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步（右边 History 中，单击上一步输出的结果文件名称，点击“向右转圈的箭头”，下同。）</li>
    <li>统计检验：
      <ul>
        <li>添加全局 P 值：YES</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-global-p.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>统计检验：
      <ul>
        <li>添加分组 P 值：YES</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-local-p.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>统计检验：
      <ul>
        <li>全局 P 值 Y 坐标（与数据的单位一致）：42</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-p-y.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>统计检验：
      <ul>
        <li>分组比较 P 值显示方式：p 值</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-p-show.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>统计检验：
      <ul>
        <li>全局 P 值 Y 坐标（与数据的单位一致）：10</li>
      </ul>
    </li>
    <li>高级设置：
      <ul>
        <li>X 轴分组顺序：2, 1, 0.5</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-order.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>高级设置：
      <ul>
        <li>添加元素：jitter</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-jitter.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>颜色美学：
      <ul>
        <li>调色板：JCO</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-jco.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步。</li>
    <li>位置美学：
      <ul>
        <li>分面：supp</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231121-tool-update-boxplot-facet.png" alt="" /></p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[工具地址]]></summary></entry><entry><title type="html">出版级柱状图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）</title><link href="https://usegalaxy.github.io/posts/2023/11/20/tool-update/" rel="alternate" type="text/html" title="出版级柱状图绘制，轻松拿捏（初学者友好的R包ggpubr在线版）" /><published>2023-11-20T00:00:00+00:00</published><updated>2023-11-20T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/20/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/20/tool-update/"><![CDATA[<h2 id="工具地址">工具地址</h2>

<p>Galaxy中国（UseGalaxy.cn）&gt; Graph/Display Data &gt; 柱状图</p>

<h2 id="功能描述">功能描述</h2>

<p>这个工具可以绘制出版级柱状图，是 ggpubr 包的 barplot 工具的在线版。</p>

<ul>
  <li>条形图通过垂直或水平的条形展示分类变量的分布（频数）。</li>
  <li>横坐标表示分类，纵坐标表示频数，频数既可以事先计算好，也可以自动计算（不指定 Y 变量时）。</li>
</ul>

<h2 id="测试数据">测试数据</h2>

<blockquote>
  <p>Data libraries &gt; Table data &gt; ToothGrowth.tsv。</p>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-data.png" alt="" /></p>

<h2 id="操作演示">操作演示</h2>

<blockquote>
  <ul>
    <li>数据表：ToothGrowth.tsv</li>
    <li>位置美学：
      <ul>
        <li>X 轴变量：dose</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>位置美学：
      <ul>
        <li>Y 轴变量：len</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose-len.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>颜色美学：
      <ul>
        <li>轮廓颜色：supp</li>
        <li>填充颜色：supp</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose-color-fill-supp.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>高级设置：
      <ul>
        <li>dodge：dodge2</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose-color-fill-supp-dodge2.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>高级设置：
      <ul>
        <li>添加元素：mean_se</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose-color-fill-supp-dodge2-mean_se.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>颜色美学：
      <ul>
        <li>调色板：JCO</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose-color-fill-supp-dodge2-jco.png" alt="" /></p>

<blockquote>
  <ul>
    <li>重新运行上一步</li>
    <li>颜色美学：
      <ul>
        <li>主题：theme_dark</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231120-tool-update-barplot-dose-color-fill-supp-dodge2-jco-theme_dark.png" alt="" /></p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[工具地址]]></summary></entry><entry><title type="html">出版级PCA美图，轻松拿捏（主成分分析利器，建议收藏备用）</title><link href="https://usegalaxy.github.io/posts/2023/11/16/tool-update/" rel="alternate" type="text/html" title="出版级PCA美图，轻松拿捏（主成分分析利器，建议收藏备用）" /><published>2023-11-16T00:00:00+00:00</published><updated>2023-11-16T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/16/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/16/tool-update/"><![CDATA[<h2 id="功能描述">功能描述</h2>

<p>这个工具用于进行主成分分析（PCA, Principal Component Analysis），可生成出版级的图形。</p>

<h2 id="工具位置">工具位置</h2>

<p><a href="https://usegalaxy.cn/?tool_id=plot_pca&amp;version=0.6">UseGalaxy.cn &gt; RNA-seq &gt; PCA plot with FactoMineR</a></p>

<h2 id="数据准备">数据准备</h2>

<h3 id="文件1矩阵文件">文件1：矩阵文件</h3>

<ul>
  <li>第1列：特征，如基因。</li>
  <li>第2 - 最后一列：样本的值，如表达量。
<img src="/assets/img/231116-tool-update-pca-data-count.png" alt="" /></li>
</ul>

<h3 id="文件2样本信息">文件2：样本信息</h3>

<ul>
  <li>第1列：样本ID。</li>
  <li>第2列：分组。
<img src="/assets/img/231116-tool-update-pca-data-group.png" alt="" /></li>
</ul>

<h2 id="使用示例">使用示例</h2>

<blockquote>
  <ul>
    <li>默认参数</li>
  </ul>
</blockquote>

<p><img src="/assets/img/231116-tool-update-pca-default.png" alt="" /></p>

<blockquote>
  <ul>
    <li>高级设置
      <ul>
        <li>边界线形状：多边形</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231116-tool-update-pca-adv-poly.png" alt="" /></p>

<blockquote>
  <ul>
    <li>高级设置
      <ul>
        <li>边界线形状：无边界线</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231116-tool-update-pca-adv-no.png" alt="" /></p>

<blockquote>
  <ul>
    <li>颜色美学
      <ul>
        <li>主题：theme_minimal</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231116-tool-update-pca-minimal.png" alt="" /></p>

<blockquote>
  <ul>
    <li>颜色美学
      <ul>
        <li>调色板为：JCO</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231116-tool-update-pca-jco.png" alt="" /></p>

<blockquote>
  <ul>
    <li>图例设置
      <ul>
        <li>位置：right</li>
      </ul>
    </li>
  </ul>
</blockquote>

<p><img src="/assets/img/231116-tool-update-pca-legend-right.png" alt="" /></p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[功能描述]]></summary></entry><entry><title type="html">使用Tiverse优雅地处理数据集</title><link href="https://usegalaxy.github.io/posts/2023/11/10/tool-update/" rel="alternate" type="text/html" title="使用Tiverse优雅地处理数据集" /><published>2023-11-10T00:00:00+00:00</published><updated>2023-11-10T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/10/tool-update</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/10/tool-update/"><![CDATA[<p>2023-11-10，Galaxy生信云平台 <a href="https://usegalaxy.cn">UseGalaxy.cn</a> 新增 12 个工具。</p>

<h2 id="tidyverse">TIDYVERSE</h2>

<ul>
  <li>Dplyr Arrange rows</li>
  <li>Dplyr Count the observations</li>
  <li>Dplyr Distinct keep unique rows</li>
  <li>Dplyr Join two tables</li>
  <li>Dplyr Join with one varibale</li>
  <li>Dplyr Mutate create, modify, and delete columns</li>
  <li>Dplyr Rename columns</li>
  <li>Dplyr Select keep or drop columns</li>
  <li>Dplyr Slice select rows by position</li>
  <li>Dplyr Filter keep rows that match a condition</li>
  <li>Tidyr Pivot Longer from wide</li>
  <li>Tidyr Pivot Wider from long</li>
</ul>

<h2 id="dplyr-arrange-rows">Dplyr Arrange rows</h2>

<p><code class="language-plaintext highlighter-rouge">arrange</code> 函数用于对数据框按照指定变量进行排序，可以根据一个或多个变量对数据进行升序或降序排列，帮助用户重新整理数据框中的观测顺序。</p>

<h2 id="dplyr-count-the-observations">Dplyr Count the observations</h2>

<p><code class="language-plaintext highlighter-rouge">count</code> 函数用于统计数据框中各个组的频数，可以对指定变量进行计数，得到每个类别的观测数目，支持根据需要对结果进行排序。</p>

<h2 id="dplyr-distinct-keep-unique-rows">Dplyr Distinct keep unique rows</h2>

<p><code class="language-plaintext highlighter-rouge">distinct</code> 函数用于去除数据框中的重复观测，仅保留唯一的观测。它可以基于指定的列对数据框进行去重操作，确保每个观测都是唯一的。</p>

<h2 id="dplyr-join-two-tables">Dplyr Join two tables</h2>

<p><code class="language-plaintext highlighter-rouge">join</code> 函数用于根据指定的键将两个数据框连接起来，可以根据共同的变量将数据框进行合并，支持多种连接操作，如内连接、左连接、右连接和外连接等。</p>

<h2 id="dplyr-join-with-one-varibale">Dplyr Join with one varibale</h2>

<p>同上。区别在于只用一个变量连接两个表。</p>

<h2 id="dplyr-mutate-create-modify-and-delete-columns">Dplyr Mutate create, modify, and delete columns</h2>

<p><code class="language-plaintext highlighter-rouge">mutate</code> 函数用于添加新变量或修改现有变量，能够基于已有数据创建新的变量列，支持对数据框进行实时的变量操作和修改。</p>

<h2 id="dplyr-rename-columns">Dplyr Rename columns</h2>

<p><code class="language-plaintext highlighter-rouge">rename</code> 函数用于重命名数据框中的变量名，能够快速修改变量的名称，使得数据的列名更符合用户的需求和习惯。</p>

<h2 id="dplyr-select-keep-or-drop-columns">Dplyr Select keep or drop columns</h2>

<p><code class="language-plaintext highlighter-rouge">select</code> 函数用于选择数据框中的特定列，可以保留感兴趣的变量，并且能够根据列名、位置或条件表达式进行灵活的变量选择操作。</p>

<h2 id="dplyr-slice-select-rows-by-position">Dplyr Slice select rows by position</h2>

<p><code class="language-plaintext highlighter-rouge">slice</code> 函数用于按行数进行切片，能够从数据框中提取特定的行，支持根据行数或行号选择需要的行，也支持使用负数表示从末尾开始计算的行数。</p>

<h2 id="dplyr-filter-keep-rows-that-match-a-condition">Dplyr Filter keep rows that match a condition</h2>

<p><code class="language-plaintext highlighter-rouge">filter</code> 函数用于根据条件筛选数据行，能够仅保留满足条件的观测，支持根据指定的条件表达式对数据框进行灵活的行筛选操作。</p>

<h2 id="tidyr-pivot-longer-from-wide">Tidyr Pivot Longer from wide</h2>

<p><code class="language-plaintext highlighter-rouge">pivot_longer</code> 函数用于将宽格式数据转换为长格式数据，能够根据用户指定的列将数据框中的多个列整理成一对 “名-值” 对，便于进一步的分析和处理。</p>

<h2 id="tidyr-pivot-wider-from-long">Tidyr Pivot Wider from long</h2>

<p><code class="language-plaintext highlighter-rouge">pivot_wider</code> 函数用于将长格式数据转换为宽格式数据，能够将数据框中的一列分成多个列，根据指定的列名进行展开，使得数据以更直观的宽格式形式呈现。</p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[2023-11-10，Galaxy生信云平台 UseGalaxy.cn 新增 12 个工具。]]></summary></entry><entry><title type="html">UseGalaxy.cn生信云平台文本文件操作手册</title><link href="https://usegalaxy.github.io/posts/2023/11/08/training/" rel="alternate" type="text/html" title="UseGalaxy.cn生信云平台文本文件操作手册" /><published>2023-11-08T00:00:00+00:00</published><updated>2023-11-08T00:00:00+00:00</updated><id>https://usegalaxy.github.io/posts/2023/11/08/training</id><content type="html" xml:base="https://usegalaxy.github.io/posts/2023/11/08/training/"><![CDATA[<p>文本文件是生物信息学中应用非常广泛的文本格式，甚至可以说是最重要的文件格式，比如常见的测序下机数据Fastq、参考基因组保存格式Fasta、比对文件SAM，以及突变列表VCF，它们都是文本文件。熟练地进行文本文件的处理，对于生信数据分析来说非常重要。比如为特定程序准备相应的输入文件，或者从结果文件中提取需要的信息。</p>

<p>文本文件的操作贯穿生信数据处理的始终，甚至有人开玩笑说，搞生信分析，就是进行各种文件格式的转换。有时候确实可以这么说，因为现在有许多软件/包都写得非常完善了，只需要准备好相应的输入文件，一行代码即可完成分析。</p>

<p>可以说，善于文本文件的处理，生信数据分析就站在了一个非常高的起点。<a href="https://usegalaxy.cn">UseGalaxy.cn</a>平台有非常强大的文本数据处理功能，本文就来系统地介绍这些文本处理工具的用法。</p>

<h2 id="测序数据">测序数据</h2>

<ul>
  <li>Libraries &gt; Table data: heatmap_test.tsv，一个模拟的 RNA-seq 表达量矩阵数据。</li>
</ul>

<h2 id="1-文本操纵text-manipulation">1. 文本操纵（Text Manipulation）</h2>

<h3 id="选择开始的多少行">选择开始的多少行</h3>

<p><strong>工具：</strong>Text Manipulation &gt; Select first lines from a dataset</p>

<p><strong>目标：</strong>选择前10行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Select first: 11 (因为文件有表头，所以这里设置为前11行)</li>
  <li>from: heatmap_test.tsv</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-select-first.png" alt="" /></p>

<h3 id="选择结尾的多少行">选择结尾的多少行</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Select last lines from a dataset</p>

<p><strong>目标：</strong> 选择结尾的10行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Select last: 10</li>
  <li>from: heatmap_test.tsv</li>
  <li>Dataset has a header: Yes</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-select-last.png" alt="" /></p>

<h3 id="随机选择多少行">随机选择多少行</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Select random lines from a file</p>

<p><strong>目标：</strong> 随机选择5行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Randomly select: 5</li>
  <li>from: heatmap_test.tsv</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-select-random.png" alt="" /></p>

<h3 id="删除开始的多少行">删除开始的多少行</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Remove beginning of a file</p>

<p><strong>目标：</strong> 删除表头</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Remove first: 1</li>
  <li>from: heatmap_test.tsv</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-remove-begining.png" alt="" /></p>

<h3 id="选择列">选择列</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Cut columns from a table</p>

<p><strong>目标：</strong> 选择第1，2，5列</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Cut columns: c1,c2,c5</li>
  <li>from: heatmap_test.tsv</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-cut.png" alt="" /></p>

<h3 id="增加列到一个数据表">增加列到一个数据表</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Add column to an existing dataset</p>

<p><strong>目标：</strong> 在最后一列增加一个<strong>+</strong>号</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Add this value：+</li>
  <li>to Dataset: Remove beginning on data 1</li>
  <li>Iterate?: NO</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-add-plus.png" alt="" /></p>

<p><strong>目标：</strong> 在最后一列增加从1开始不断迭代的编号</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Add this value：1</li>
  <li>to Dataset: Remove beginning on data 1</li>
  <li>Iterate?: YES</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-add-1.png" alt="" /></p>

<h3 id="纵向合并多个文件">纵向合并多个文件</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Concatenate datasets tail-to-head</p>

<p><strong>目标：</strong> 合并两个文件</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Concatenate Dataset: Select first on data 1</li>
  <li>Dataset: Select last on data 1</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-cat.png" alt="" /></p>

<h3 id="横向合并两个文件">横向合并两个文件</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Paste two files side by side</p>

<p><strong>目标：</strong> 并排粘贴两个文件</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Paste: Cut on data 1</li>
  <li>and: Cut on data 1</li>
  <li>Delimit by: TAB</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-paste.png" alt="" /></p>

<h2 id="2-过滤和排序filter-and-sort">2. 过滤和排序（Filter and Sort）</h2>

<h3 id="根据正则表达式匹配行">根据正则表达式匹配行</h3>

<p><strong>工具：</strong> Filter and Sort &gt; Select lines that match an expression</p>

<p><strong>目标：</strong> 筛选出前面纵向合并的文件中的表头</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Select lines from: Concatenate datasets on data 4 and data 2</li>
  <li>that: Matching</li>
  <li>the pattern: Test1</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-grep.png" alt="" /></p>

<p><strong>目标：</strong> 筛选出前面纵向合并的文件中不是表头的行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Select lines from: Concatenate datasets on data 4 and data 2</li>
  <li>that: NOT Matching</li>
  <li>the pattern: Test1</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-grep-v.png" alt="" /></p>

<h3 id="依据某一列过滤数据">依据某一列过滤数据</h3>

<p><strong>工具：</strong> Filter and Sort &gt; Filter data on any column using simple expressions</p>

<p><strong>目标：</strong> 筛选第2列（即样本Test1所在列）值大于1的行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Filter：heatmap_test.tsv</li>
  <li>With following condition: c2 &gt; 1</li>
  <li>Number of header lines to skip: 1</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-filter-by-column.png" alt="" /></p>

<h3 id="排序数据">排序数据</h3>

<p><strong>工具：</strong> Filter and Sort &gt; Sort data in ascending or descending order</p>

<p><strong>目标：</strong> 根据表达矩阵的第2列，降序排列行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Sort Dataset: heatmap_test.tsv</li>
  <li>on column: Column 2</li>
  <li>with flavor: Numerical sort</li>
  <li>everything in: Descending order</li>
  <li>Number of header lines to skip: 1</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-sort-desc.png" alt="" /></p>

<h2 id="3-连接提取和分组join-subtract-and-group">3. 连接、提取和分组（Join, Subtract and Group）</h2>

<h3 id="依据特定列连接两个数据表">依据特定列连接两个数据表</h3>

<p><strong>工具：</strong> Text Manipulation &gt; Cut columns</p>

<p><strong>目标：</strong> 选择文件前3列</p>

<p><strong>操作：</strong></p>
<ul>
  <li>Cut columns: c1,c2, c3</li>
  <li>From: Select first on data 1</li>
</ul>

<p><strong>工具：</strong> Join, Subtract and Group &gt; Join two Datasets side by side on a specified field</p>

<p><strong>目标：</strong> 连接两个数据表</p>

<p><strong>操作：</strong></p>
<ul>
  <li>Join: Cut on data 2</li>
  <li>using column: Column: 1</li>
  <li>with: heatmap_test.tsv</li>
  <li>and column: Column: 1</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-join.png" alt="" /></p>

<h3 id="比较两个数据表找出相同或不同的行">比较两个数据表找出相同或不同的行</h3>

<p><strong>工具：</strong> Join, Subtract and Group &gt; Compare two Datasets to find common or distinct rows</p>

<p><strong>目标：</strong> 查找表1中，某一列的值出现在表2中某一列的行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Compare：Select random lines on data 1</li>
  <li>Using column: Column: 1</li>
  <li>against：heatmap_test.tsv</li>
  <li>and column：Column: 1</li>
  <li>To find: Matching rows of 1st dataset</li>
</ul>

<p><strong>结果：</strong></p>

<p><img src="/assets/img/231108-training-compare-match.png" alt="" /></p>

<p><strong>目标：</strong> 查找表1中，某一列的值没有出现在表2中某一列的行</p>

<p><strong>操作：</strong></p>

<ul>
  <li>Compare：Select random lines on data 1</li>
  <li>Using column: Column: 1</li>
  <li>against：heatmap_test.tsv</li>
  <li>and column：Column: 1</li>
  <li>To find: Non Matching rows of 1st dataset</li>
</ul>

<p><strong>结果：</strong></p>

<p>因为表1所有的行，都在表2中，因此结果为空。</p>

<h2 id="友情提示">友情提示</h2>

<p>使用问题请加入<strong>Galaxy中国交流群: 925694514（QQ群，免费加入）</strong>，或者关注公众号：<strong>简说基因</strong>。</p>

<p><img src="/assets/media/wechat-qq-group.jpg" alt="" /></p>]]></content><author><name></name></author><category term="tools" /><summary type="html"><![CDATA[文本文件是生物信息学中应用非常广泛的文本格式，甚至可以说是最重要的文件格式，比如常见的测序下机数据Fastq、参考基因组保存格式Fasta、比对文件SAM，以及突变列表VCF，它们都是文本文件。熟练地进行文本文件的处理，对于生信数据分析来说非常重要。比如为特定程序准备相应的输入文件，或者从结果文件中提取需要的信息。]]></summary></entry></feed>